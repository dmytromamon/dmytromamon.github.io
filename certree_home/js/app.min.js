$(document).ready(function(){function e(o,t){n=!0,(p=gsap.timeline({onComplete:function(){++o>$(".carousel__picture").length-1&&(o=0),l=o,++t>$(".carousel__picture").length-1&&(t=0),c=o,e(o,t),n=!1}})).set(".control__progress",{width:0},0).to(".control__progress",i,{width:94,ease:"none",onComplete:function(){$(".carousel__picture").eq(t).css("display","block"),$(".carousel__copy").eq(t).css({display:"block",top:0,left:160}),$(".control__number").html("0"+(t+1))}},0).to($(".carousel__copy").eq(o),.2,{top:-100,opacity:0,onComplete:function(){$(".carousel__copy").eq(o).css("display","none")}},i-.3).to($(".carousel__picture").eq(t),1,{opacity:1},i).to($(".carousel__picture").eq(o),1,{opacity:0,onComplete:function(){$(".carousel__picture").eq(o).css("display","none")}},i).to($(".carousel__copy").eq(t),.5,{left:0,opacity:1},i+.5)}function o(){w=new ScrollMagic.Controller({loglevel:3});var e=500;e=$(window).width()>767?500:250,u=new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2,duration:6*e,loglevel:3}).setPin("#scroll-magic").addTo(w),h=TweenMax.to("#title1",1,{color:"#D2D4D5",top:-v/2}),m=TweenMax.to("#row1",1,{top:-T/2}),f=TweenMax.to("#copy1",1,{display:"none"}),u=new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+e,duration:e,loglevel:3}).setTween(h).addTo(w),u=new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+e,duration:e,loglevel:3}).setTween(m).addTo(w),u=new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+e,duration:e,loglevel:3}).setTween(f).addTo(w),h=TweenMax.to("#title2",1,{color:"#318CE7",top:v/2}),m=TweenMax.to("#row2",1,{top:T/2}),u=new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+e,duration:e,loglevel:3}).setTween(h).addTo(w),u=new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+e,duration:e,loglevel:3}).setTween(m).addTo(w);var o;(u=new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+(e-10),duration:20,loglevel:3}).addTo(w)).on("progress",function(e){"FORWARD"===e.scrollDirection&&(o=TweenMax.to("#copy1",.5,{top:-100,opacity:0,ease:"power0.none"})),"REVERSE"===e.scrollDirection&&(o=TweenMax.to("#copy1",.3,{top:0,opacity:1,ease:"power2.out"}))}),(u=new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+(2*e-10),duration:20,loglevel:3}).addTo(w)).on("progress",function(e){"FORWARD"===e.scrollDirection&&(o=TweenMax.to("#copy2",.3,{marginLeft:0,opacity:1,ease:"power2.out"})),"REVERSE"===e.scrollDirection&&(o=TweenMax.to("#copy2",.5,{marginLeft:160,opacity:0,ease:"power0.none"}))}),h=TweenMax.to(".magic-arrow",1,{top:b/2-30}),u=new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+e,duration:e,loglevel:3}).setTween(h).addTo(w),h=TweenMax.to("#row1",1,{top:-T}),(u=new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+(3*e-10),duration:20,loglevel:3}).addTo(w)).on("progress",function(e){"FORWARD"===e.scrollDirection&&(o=TweenMax.to("#copy2",.5,{top:-100,opacity:0,ease:"power0.none"})),"REVERSE"===e.scrollDirection&&(o=TweenMax.to("#copy2",.3,{top:0,opacity:1,ease:"power2.out"}))}),(u=new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+(4*e-10),duration:20,loglevel:3}).addTo(w)).on("progress",function(e){"FORWARD"===e.scrollDirection&&(o=TweenMax.to("#copy3",.3,{marginLeft:0,opacity:1,ease:"power2.out"})),"REVERSE"===e.scrollDirection&&(o=TweenMax.to("#copy3",.5,{marginLeft:160,opacity:0,ease:"power0.none"}))}),u=new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+3*e,duration:e,loglevel:3}).setTween(h).addTo(w),y=TweenMax.to("#title1",1,{color:"#D2D4D5",top:-v}),h=TweenMax.to("#title2",1,{color:"#D2D4D5",top:0}),m=TweenMax.to("#row2",1,{top:0}),f=TweenMax.to("#copy2",1,{display:"none"}),u=new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+3*e,duration:e,loglevel:3}).setTween(h).addTo(w),u=new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+3*e,duration:e,loglevel:3}).setTween(m).addTo(w),u=new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+3*e,duration:e,loglevel:3}).setTween(f).addTo(w),u=new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+3*e,duration:e,loglevel:3}).setTween(y).addTo(w),h=TweenMax.to("#title3",1,{color:"#318CE7",top:v}),m=TweenMax.to("#row3",1,{top:T}),u=new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+3*e,duration:e,loglevel:3}).setTween(h).addTo(w),u=new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+3*e,duration:e,loglevel:3}).setTween(m).addTo(w),h=TweenMax.to(".magic-arrow",1,{top:b-30}),u=new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+3*e,duration:e,loglevel:3}).setTween(h).addTo(w)}var t=gsap.timeline(),l=0,c=1,i=10,n=!0;if($(window).on("load",function(e){$(".revert-bg .row").eq(1).attr("id","about"),""!=window.location.hash&&(window.location.hash=window.location.hash)}),$(".nav-scroller__nav>li>a").on("click",function(){$(".navbar-collapse").collapse("hide")}),$("#video").length>0){var s=document.querySelector("iframe"),r=new Vimeo.Player(s),a=0;$(".video-placeholder").css("height",$(".video-placeholder").width()/1.777778),$("#video").css("height",$(".video-placeholder").width()/1.777778+1),$(document).on("click","#return-form",function(){$("#return-form").closest(".bordered").empty().append('<form id="join-us"><h4>Become an Advocate</h4><p>Join our advocacy group and stay connected to Certree. <br> We would also welcome your feedback and ideas!</p><input type="text" name="firstName" id="firstName" placeholder="First name"><input type="text" name="lastName" id="lastName" placeholder="Last name"><input type="mail" name="email" id="email" placeholder="Email"><textarea name="message" id="message" rows="2" placeholder="Message"></textarea><input name="checkbox" type="checkbox" id="checkbox" checked><label for="checkbox">I agree to receive updates and news from Certree</label><div class="d-flex justify-content-end"><a href="#">Reset</a><input class="btn" type="submit" value="send"/><img src="img/icon/angle-right.svg" alt=""></div></form>')}),$(document).on("click",".play-button",function(){r.play(),$(".play-button").fadeOut(),setTimeout(function(){a=1},100)}),$(document).on("click",".stop-button",function(){1==a&&(r.pause(),$(".play-button").fadeIn(),a=0)}),$(window).on("resize",function(){$(".video-placeholder").css("height",$(".video-placeholder").width()/1.777778),$("#video").css("height",$(".video-placeholder").width()/1.777778+1)})}if($(document).on("click",".navbar-toggler",function(){$("html, body").stop().animate({scrollTop:0},500),$(".navbar-collapse").hasClass("opened")?($(".navbar-collapse").removeClass("opened"),$("html, body").css("overflow","auto")):($(".navbar-collapse").addClass("opened"),$("html, body").css("overflow","hidden"))}),$(".carousel__picture").eq(0).css("display","block"),t.to($(".carousel__picture").eq(0),.5,{opacity:1,onComplete:function(){$(".carousel__picture").removeClass("show")}},0),$(".carousel__copy").eq(0).css("display","block"),t.to($(".carousel__copy").eq(0),.3,{left:0,opacity:1,ease:"power2.out",onComplete:function(){n=!1}},.5),$("#carousel").length>0){var p;e(0,1),$(document).on("click",".control__right",function(o){o.preventDefault(),n||(p.pause(),$(".control__progress").css("width",0),n=!0,p=gsap.timeline(),(c=l+1)>$(".carousel__picture").length-1&&(c=0),$(".carousel__picture").eq(c).css("display","block"),p.to($(".carousel__picture").eq(c),1,{opacity:1},.3).to($(".carousel__picture").eq(l),1,{opacity:0,onComplete:function(){$(this).css("display","none")}},.3).to($(".carousel__copy").eq(l),.2,{top:-100,opacity:0,onComplete:function(){$(".carousel__copy").eq(l).css("display","none"),$(".carousel__copy").eq(c).css({display:"block",left:160,top:0})}},0).to($(".carousel__copy").eq(c),.5,{left:0,opacity:1,onComplete:function(){++l>$(".carousel__picture").length-1&&(l=0),++c>$(".carousel__picture").length-1&&(c=0),$(".control__number").html("0"+(l+1)),e(l,c),n=!1}},.8))}),$(document).on("click",".control__left",function(o){o.preventDefault(),n||(p.pause(),$(".control__progress").css("width",0),n=!0,p=gsap.timeline(),(c=l-1)<0&&(c=$(".carousel__picture").length-1),$(".carousel__picture").eq(c).css("display","block"),p.to($(".carousel__picture").eq(c),1,{opacity:1},.3).to($(".carousel__picture").eq(l),1,{opacity:0,onComplete:function(){$(this).css("display","none")}},.3).to($(".carousel__copy").eq(l),.2,{top:-100,opacity:0,onComplete:function(){$(".carousel__copy").eq(l).css("display","none"),$(".carousel__copy").eq(c).css({display:"block",left:160,top:0})}},0).to($(".carousel__copy").eq(c),.5,{left:0,opacity:1,onComplete:function(){--l<0&&(l=$(".carousel__picture").length-1),++c>$(".carousel__picture").length-1&&(c=0),$(".control__number").html("0"+(l+1)),e(l,c),n=!1}},.8))});var g=void 0===document.documentMode,d=window.chrome;g&&!d?$(window).on("focusin",function(){setTimeout(function(){p.play(),n=!1},300)}).on("focusout",function(){p.pause()}):window.addEventListener?(window.addEventListener("focus",function(e){setTimeout(function(){p.play(),n=!1},300)},!1),window.addEventListener("blur",function(e){p.pause()},!1)):(window.attachEvent("focus",function(e){setTimeout(function(){p.play(),n=!1},300)}),window.attachEvent("blur",function(e){p.pause()}))}var w,u,h,m,f,y,_,v,T,b;$("#scroll-magic").length>0&&$(function(){_=$("#scroll-magic .relative > .container").height(),v=$(".title").height()+40,T=v,b=v,$("#scroll-magic .row").eq(1).css("top",_-2*v),$("#scroll-magic .row").eq(2).css("top",_-v),$(".magic-arrow").css("top",-30),$(window).width()<566?(v=$(".title").height()+20,$("#title2").css("top",v),$("#title3").css("top",2*v),$("#scroll-magic .row").eq(1).css("top",_-2*v),$("#scroll-magic .row").eq(2).css("top",_-v),T=0,b=v):$(window).height()<700&&$(window).width()>992?($("#scroll-magic .row").eq(1).css("top",0),$("#scroll-magic .row").eq(2).css("top",0),$("#title2").css("top",v),$("#title3").css("top",2*v),T=0,b=v):$(window).height()>=700&&$(window).width()>992?(v=$(".title").height()+40,T=0,b=v,$("#title2").css("top",v/2),$("#title3").css("top",v),$("#scroll-magic .row").eq(1).css("top",_-2*v),$("#scroll-magic .row").eq(2).css("top",_-v)):(v=$(".title").height()+40,$("#scroll-magic .row").eq(1).css("top",_-2*v),$("#scroll-magic .row").eq(2).css("top",_-v),$("#title2").css("top",v),$("#title3").css("top",2*v),b=v),o(),$(window).on("resize",function(){if($(window).width()<565);else{w=w.destroy(!0),w=null,u=u.destroy(!0),u=null,h=null,m=null,f=null,y=null;$("html, body").scrollTop(),$(".logo-bg").offset().top,$(".logo-bg").innerHeight();e=$("#scroll-magic .relative > .container").height(),$("#copy1").css({opacity:1,marginLeft:0}),$("#copy2, #copy3").css({opacity:0,marginLeft:160}),$("html, body").animate({scrollTop:0},100);var e=$("#scroll-magic .relative > .container").height(),t=$(".title").height()+40;$("#scroll-magic .row").eq(1).css("top",e-2*t),$("#scroll-magic .row").eq(2).css("top",e-t),$(".magic-arrow").css("top",-30),$(window).width()<566&&(t=$(".title").height()+20,$("#title2").css("top",t),$("#title3").css("top",2*t),$("#scroll-magic .row").eq(1).css("top",e-2*t),$("#scroll-magic .row").eq(2).css("top",e-t),0,t),$(window).height()<700&&$(window).width()>992?(t=$(".title").height()+40,$("#scroll-magic .row").eq(1).css("top",0),$("#scroll-magic .row").eq(2).css("top",0),$("#title2").css("top",t),$("#title3").css("top",2*t),0,t):$(window).height()>=700&&$(window).width()>992?(2*(t=$(".title").height()+40),e=$("#scroll-magic .relative > .container").height(),$("#scroll-magic .row").eq(1).css("top",e-2*t),$("#scroll-magic .row").eq(2).css("top",e-t),$("#title2").css("top",0),$("#title3").css("top",0)):(t=$(".title").height()+40,$("#scroll-magic .row").eq(1).css("top",e-2*t),$("#scroll-magic .row").eq(2).css("top",e-t),$("#title2").css("top",t),$("#title3").css("top",2*t),t),o()}})}),$(document).on("click","#title1",function(){var e=$(".logo-bg").offset().top+$(".logo-bg").innerHeight();$("html, body").animate({scrollTop:e},1e3)}),$(document).on("click","#title2",function(){var e=$(".logo-bg").offset().top+$(".logo-bg").innerHeight();$("html, body").animate({scrollTop:e+1010},1e3)}),$(document).on("click","#title3",function(){var e=$(".logo-bg").offset().top+$(".logo-bg").innerHeight();$("html, body").animate({scrollTop:e+2010},1e3)}),$('a[href^="#"]').on("click",function(e){var t=$(this.getAttribute("href"));t.length&&(e.preventDefault(),$("#scroll-magic").length>0&&(w=w.destroy(!0),w=null,u=u.destroy(!0),u=null,h=null,m=null,f=null,y=null),$("html, body").stop().animate({scrollTop:t.offset().top},750),$("#navbarMenu").collapse("hide").removeClass("opened"),$("html, body").css("overflow","auto"),setTimeout(function(){o(),$("html, body").scrollTop(t.offset().top)},1e3))}),""!=window.location.hash&&(window.location.hash=window.location.hash)});