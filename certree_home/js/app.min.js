$(document).ready(function(){function e(o,t){(a=gsap.timeline({onComplete:function(){++o>$(".carousel__picture").length-1&&(o=0),++t>$(".carousel__picture").length-1&&(t=0),e(o,t)}})).set(".control__progress",{width:0},0).to(".control__progress",c,{width:94,ease:"none",onComplete:function(){$(".carousel__picture").eq(t).css("display","block"),$(".carousel__copy").eq(t).css({display:"block",top:0,left:160}),$(".control__number").html("0"+(t+1))}},0).to($(".carousel__copy").eq(o),.2,{top:-100,opacity:0,onComplete:function(){$(".carousel__copy").eq(o).css("display","none")}},c-.3).to($(".carousel__picture").eq(t),1,{opacity:1},c).to($(".carousel__picture").eq(o),1,{opacity:0,onComplete:function(){$(".carousel__picture").eq(o).css("display","none")}},c).to($(".carousel__copy").eq(t),.5,{left:0,opacity:1,onComplete:function(){}},c+.5)}var o=gsap.timeline(),t=0,n=t+1,c=7;if($("#video").length>0){var i=document.querySelector("iframe"),l=new Vimeo.Player(i),r=0;$(document).on("click",".play-button",function(){l.play(),$(".play-button").fadeOut(),setTimeout(function(){r=1},100)}),$("#video").on("click",function(){console.log("stopped"),1==r&&(l.pause(),$(".play-button").fadeIn(),r=0)}),i=$("iframe"),$("iframe").on("load",function(){i.contents().click(function(e){i.trigger("click")})}),i.click(function(){console.log("stopped")})}if($(window).scroll(function(){$(window).scrollTop()>$(".nav-scroller").innerHeight()?($(".navbar").addClass("fixed-top"),$(".navbar").removeClass("static-top")):($(".navbar").removeClass("fixed-top"),$(".navbar").addClass("static-top"))}),$(document).on("click",".navbar-toggler",function(){$("html, body").scrollTop()<40&&$("html, body").stop().animate({scrollTop:40},500),$(".header").hasClass("opened")?($(".header").removeClass("opened"),$("html, body").css("overflow","auto")):($(".header").addClass("opened"),$("html, body").css("overflow","hidden"))}),$(".carousel__picture").eq(t).css("display","block"),o.to($(".carousel__picture").eq(t),.5,{opacity:1,onComplete:function(){$(".carousel__picture").removeClass("show")}},0),$(".carousel__copy").eq(t).css("display","block"),o.to($(".carousel__copy").eq(t),.3,{left:0,opacity:1,ease:"power2.out"},.5),$("#carousel").length>0){var a;e(t,n),$(document).on("click",".control__right",function(){a.pause(),$(".control__progress").css("width",0),a=gsap.timeline(),(n=t+1)>$(".carousel__picture").length-1&&(n=0),$(".carousel__picture").eq(n).css("display","block"),a.to($(".carousel__picture").eq(n),1,{opacity:1},.3).to($(".carousel__picture").eq(t),1,{opacity:0,onComplete:function(){$(this).css("display","none")}},.3).to($(".carousel__copy").eq(t),.2,{top:-100,opacity:0,onComplete:function(){$(".carousel__copy").eq(t).css("display","none"),$(".carousel__copy").eq(n).css({display:"block",left:160,top:0})}},0).to($(".carousel__copy").eq(n),.5,{left:0,opacity:1,onComplete:function(){++t>$(".carousel__picture").length-1&&(t=0),++n>$(".carousel__picture").length-1&&(n=0),$(".control__number").html("0"+(t+1)),e(t,n)}},.8)}),$(document).on("click",".control__left",function(){a.pause(),$(".control__progress").css("width",0),a=gsap.timeline(),(n=t-1)<0&&(n=$(".carousel__picture").length-1),$(".carousel__picture").eq(n).css("display","block"),a.to($(".carousel__picture").eq(n),1,{opacity:1},.3).to($(".carousel__picture").eq(t),1,{opacity:0,onComplete:function(){$(this).css("display","none")}},.3).to($(".carousel__copy").eq(t),.2,{top:-100,opacity:0,onComplete:function(){$(".carousel__copy").eq(t).css("display","none"),$(".carousel__copy").eq(n).css({display:"block",left:160,top:0})}},0).to($(".carousel__copy").eq(n),.5,{left:0,opacity:1,onComplete:function(){--t<0&&(t=$(".carousel__picture").length-1),++n>$(".carousel__picture").length-1&&(n=0),$(".control__number").html("0"+(t+1)),e(t,n)}},.8)});var s=void 0===document.documentMode,p=window.chrome;s&&!p?$(window).on("focusin",function(){setTimeout(function(){a.restart()},300)}).on("focusout",function(){a.pause()}):window.addEventListener?(window.addEventListener("focus",function(e){setTimeout(function(){a.restart()},300)},!1),window.addEventListener("blur",function(e){a.pause()},!1)):(window.attachEvent("focus",function(e){setTimeout(function(){a.restart()},300)}),window.attachEvent("blur",function(e){a.pause()}))}if($("#scroll-magic").length>0){var d=$("#scroll-magic > .container").height(),u=$(".title").height()+40;$(window).width()<566&&(u=$(".title").height()+20),$("#scroll-magic .row").eq(1).css("top",d-2*u),$("#scroll-magic .row").eq(2).css("top",d-u),$(".magic-arrow").css("top",-30),$(window).width()<992&&($("#title2").css("top",u),$("#title3").css("top",2*u)),$(window).on("resize",function(){$(window).width()<992?($("#title2").css("top",u),$("#title3").css("top",2*u)):($("#title2").css("top",0),$("#title3").css("top",0)),u=$(window).width()<566?$(".title").height()+20:$(".title").height()+40});var g,w=new ScrollMagic.Controller,f=(new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2-80,duration:3e3}).setPin("#scroll-magic").addTo(w),TweenMax.to("#title1",1,{color:"#D2D4D5"})),m=TweenMax.to("#row1",1,{top:-u/2}),h=TweenMax.to("#copy1",1,{display:"none"});new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+500,duration:500}).setTween(f).addTo(w),new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+500,duration:500}).setTween(m).addTo(w),new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+500,duration:500}).setTween(h).addTo(w),f=TweenMax.to("#title2",1,{color:"#318CE7"}),m=TweenMax.to("#row2",1,{top:u/2}),new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+500,duration:500}).setTween(f).addTo(w),new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+500,duration:500}).setTween(m).addTo(w);new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+490,duration:20}).addTo(w).on("progress",function(e){"FORWARD"===e.scrollDirection&&(g=TweenMax.to("#copy1",.5,{top:-100,opacity:0,ease:"power0.none"})),"REVERSE"===e.scrollDirection&&(g=TweenMax.to("#copy1",.3,{top:0,opacity:1,ease:"power2.out"}))});new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+990,duration:20}).addTo(w).on("progress",function(e){"FORWARD"===e.scrollDirection&&(g=TweenMax.to("#copy2",.3,{marginLeft:0,opacity:1,ease:"power2.out"})),"REVERSE"===e.scrollDirection&&(g=TweenMax.to("#copy2",.5,{marginLeft:160,opacity:0,ease:"power0.none"}))});f=TweenMax.to(".magic-arrow",1,{top:u-30}),new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+500,duration:500}).setTween(f).addTo(w),f=TweenMax.to("#row1",1,{top:-u});new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+1490,duration:20}).addTo(w).on("progress",function(e){"FORWARD"===e.scrollDirection&&(g=TweenMax.to("#copy2",.5,{top:-100,opacity:0,ease:"power0.none"})),"REVERSE"===e.scrollDirection&&(g=TweenMax.to("#copy2",.3,{top:0,opacity:1,ease:"power2.out"}))});new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+1990,duration:20}).addTo(w).on("progress",function(e){"FORWARD"===e.scrollDirection&&(g=TweenMax.to("#copy3",.3,{marginLeft:0,opacity:1,ease:"power2.out"})),"REVERSE"===e.scrollDirection&&(g=TweenMax.to("#copy3",.5,{marginLeft:160,opacity:0,ease:"power0.none"}))});new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+1500,duration:500}).setTween(f).addTo(w),f=TweenMax.to("#title2",1,{color:"#D2D4D5"}),m=TweenMax.to("#row2",1,{top:0}),h=TweenMax.to("#copy2",1,{display:"none"}),new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+1500,duration:500}).setTween(f).addTo(w),new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+1500,duration:500}).setTween(m).addTo(w),new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+1500,duration:500}).setTween(h).addTo(w),f=TweenMax.to("#title3",1,{color:"#318CE7"}),m=TweenMax.to("#row3",1,{top:u}),new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+1500,duration:500}).setTween(f).addTo(w),new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+1500,duration:500}).setTween(m).addTo(w),f=TweenMax.to(".magic-arrow",1,{top:2*u-30}),new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+1500,duration:500}).setTween(f).addTo(w)}$(document).on("click","#title1",function(){var e=$(".logo-bg").offset().top+$(".logo-bg").innerHeight();$("html, body").animate({scrollTop:e},1e3)}),$(document).on("click","#title2",function(){var e=$(".logo-bg").offset().top+$(".logo-bg").innerHeight();$("html, body").animate({scrollTop:e+1010},1e3)}),$(document).on("click","#title3",function(){var e=$(".logo-bg").offset().top+$(".logo-bg").innerHeight();$("html, body").animate({scrollTop:e+2010},1e3)}),$('a[href^="#"]').on("click",function(e){var o=$(this.getAttribute("href"));o.length&&(e.preventDefault(),$("html, body").stop().animate({scrollTop:o.offset().top},1e3))})});