$(document).ready(function(){var o=gsap.timeline(),e=0,t=e+1,c=!0;$(".carousel__picture").eq(e).css("display","block"),o.to($(".carousel__picture").eq(e),.5,{opacity:1,onComplete:function(){$(".carousel__picture").removeClass("show")}},0),$(".carousel__copy").eq(e).css("display","block"),o.to($(".carousel__copy").eq(e),.3,{left:0,opacity:1,ease:"power2.out"},.5);var n=gsap.timeline();c&&n.to(".control__progress",10,{width:94,onComplete:function(){$(".carousel__picture").eq(t).css("display","block"),e>$(".carousel__picture").length-2?e=0:e++,$(".control__number").html("0"+(e+1)),t>$(".carousel__picture").length-2?t=0:t++,$(".control__progress").css("width",0)}},0).to($(".carousel__picture").eq(t),1,{opacity:1},10).to($(".carousel__picture").eq(e),1,{opacity:0,onComplete:function(){$(this).css("display","none")}},10).to($(".carousel__copy").eq(e),.2,{top:-100,opacity:0,onComplete:function(){$(".carousel__copy").eq(e).css("display","none"),$(".carousel__copy").eq(t).css({display:"block",left:160,top:0})}},9.7).to($(".carousel__copy").eq(t),.5,{left:0,opacity:1},10.5),setInterval(function(){n=gsap.timeline(),(t=e+1)>$(".carousel__picture").length-2&&(t=0),c&&n.to(".control__progress",10,{width:94,onComplete:function(){$(".carousel__picture").eq(t).css("display","block")}},0).to($(".carousel__picture").eq(t),1,{opacity:1},10).to($(".carousel__picture").eq(e),1,{opacity:0,onComplete:function(){$(".carousel__copy").eq(e).css("display","none")}},10).to($(".carousel__copy").eq(e),.2,{top:-100,opacity:0,onComplete:function(){$(".carousel__copy").eq(e).css("display","none"),$(".carousel__copy").eq(t).css({display:"block",left:160,top:0})}},9.7).to($(".carousel__copy").eq(t),.5,{left:0,opacity:1,onComplete:function(){(e+=1)>$(".carousel__picture").length-2&&(e=0),$(".control__number").html("0"+(e+1)),(t=e+1)>$(".carousel__picture").length-2&&(t=0),$(".control__progress").css("width",0)}},10.5)},11e3),$(document).on("click",".control__right",function(){c=!1,n.pause(),$(".control__progress").css("width",0),n=gsap.timeline(),(t=e+1)>$(".carousel__picture").length-2&&(t=0),$(".carousel__picture").eq(t).css("display","block"),n.to($(".carousel__picture").eq(t),1,{opacity:1},.3).to($(".carousel__picture").eq(e),1,{opacity:0,onComplete:function(){$(this).css("display","none")}},.3).to($(".carousel__copy").eq(e),.2,{top:-100,opacity:0,onComplete:function(){$(".carousel__copy").eq(e).css("display","none"),$(".carousel__copy").eq(t).css({display:"block",left:160,top:0})}},0).to($(".carousel__copy").eq(t),.5,{left:0,opacity:1,onComplete:function(){++e>$(".carousel__picture").length-2&&(e=0),$(".control__number").html("0"+(e+1)),c=!0}},.8)}),$(document).on("click",".control__left",function(){c=!1,n.pause(),$(".control__progress").css("width",0),n=gsap.timeline(),(t=e-1)<0&&(t=$(".carousel__picture").length-1),$(".carousel__picture").eq(t).css("display","block"),n.to($(".carousel__picture").eq(t),1,{opacity:1},.3).to($(".carousel__picture").eq(e),1,{opacity:0,onComplete:function(){$(this).css("display","none")}},.3).to($(".carousel__copy").eq(e),.2,{top:-100,opacity:0,onComplete:function(){$(".carousel__copy").eq(e).css("display","none"),$(".carousel__copy").eq(t).css({display:"block",left:160,top:0})}},0).to($(".carousel__copy").eq(t),.5,{left:0,opacity:1,onComplete:function(){--e<0&&(e=$(".carousel__picture").length-1),$(".control__number").html("0"+(e+1)),setTimeout(function(){c=!0},11e3)}},.8)});var l=$(".titles-container").height(),i=$(".title").height()+40;$(".title").eq(1).css("top",l-2*i),$(".copy").eq(1).css("marginTop",i/2),$(".title").eq(2).css("top",l-i),$(".copy").eq(2).css("marginTop",i),$(".magic-arrow").css("top",-20);var r,s=new ScrollMagic.Controller,a=(new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2,duration:3e3}).setPin("#scroll-magic").addTo(s),TweenMax.to("#title1",1,{top:-i/2,color:"#D2D4D5"}));new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+500,duration:500}).setTween(a).addTo(s),a=TweenMax.to("#title2",1,{top:i/2,color:"#318CE7"}),new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+500,duration:500}).setTween(a).addTo(s);new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+490,duration:20}).addTo(s).on("progress",function(o){"FORWARD"===o.scrollDirection&&(r=TweenMax.to("#copy1",.5,{top:-100,opacity:0,ease:"power0.none"})),"REVERSE"===o.scrollDirection&&(r=TweenMax.to("#copy1",.3,{top:0,opacity:1,ease:"power2.out"}))});new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+990,duration:20}).addTo(s).on("progress",function(o){"FORWARD"===o.scrollDirection&&(r=TweenMax.to("#copy2",.3,{marginLeft:0,opacity:1,ease:"power2.out"})),"REVERSE"===o.scrollDirection&&(r=TweenMax.to("#copy2",.5,{marginLeft:160,opacity:0,ease:"power0.none"}))});a=TweenMax.to(".magic-arrow",1,{top:i/2-20}),new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+500,duration:500}).setTween(a).addTo(s),a=TweenMax.to("#title1",1,{top:-i});new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+1490,duration:20}).addTo(s).on("progress",function(o){"FORWARD"===o.scrollDirection&&(r=TweenMax.to("#copy2",.5,{top:-100,opacity:0,ease:"power0.none"})),"REVERSE"===o.scrollDirection&&(r=TweenMax.to("#copy2",.3,{top:0,opacity:1,ease:"power2.out"}))});new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+1990,duration:20}).addTo(s).on("progress",function(o){"FORWARD"===o.scrollDirection&&(r=TweenMax.to("#copy3",.3,{marginLeft:0,opacity:1,ease:"power2.out"})),"REVERSE"===o.scrollDirection&&(r=TweenMax.to("#copy3",.5,{marginLeft:160,opacity:0,ease:"power0.none"}))});new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+1500,duration:500}).setTween(a).addTo(s),a=TweenMax.to("#title2",1,{top:0,color:"#D2D4D5"}),new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+1500,duration:500}).setTween(a).addTo(s),a=TweenMax.to("#title3",1,{top:i,color:"#318CE7"}),new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+1500,duration:500}).setTween(a).addTo(s),a=TweenMax.to(".magic-arrow",1,{top:i-20}),new ScrollMagic.Scene({triggerElement:"#scroll-magic",offset:$(window).height()/2+1500,duration:500}).setTween(a).addTo(s);$(document).on("click","#title1",function(){var o=$(".logo-bg").offset().top+$(".logo-bg").innerHeight();$("html, body").animate({scrollTop:o},1e3)}),$(document).on("click","#title2",function(){var o=$(".logo-bg").offset().top+$(".logo-bg").innerHeight();$("html, body").animate({scrollTop:o+1010},1e3)}),$(document).on("click","#title3",function(){var o=$(".logo-bg").offset().top+$(".logo-bg").innerHeight();$("html, body").animate({scrollTop:o+2010},1e3)})});