//-
//-    ВНИМАНИЕ! Этот файл генерируется автоматически.
//-    Любые изменения этого файла будут потеряны при следующей компиляции.
//-    Любое изменение проекта без возможности компиляции ДОЛЬШЕ И ДОРОЖЕ в 2-5 раз.

/*!

 * current-device v0.9.1 - https://github.com/matthewhudson/current-device

 * MIT Licensed

 */

!function(n,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?exports.device=o():n.device=o()}(window,function(){return function(n){var o={};function e(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return n[t].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=n,e.c=o,e.d=function(n,o,t){e.o(n,o)||Object.defineProperty(n,o,{enumerable:!0,get:t})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,o){if(1&o&&(n=e(n)),8&o)return n;if(4&o&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(e.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&o&&"string"!=typeof n)for(var r in n)e.d(t,r,function(o){return n[o]}.bind(null,r));return t},e.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(o,"a",o),o},e.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)},e.p="",e(e.s=0)}([function(n,o,e){n.exports=e(1)},function(n,o,e){"use strict";e.r(o);var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r=window.device,i={},a=[];window.device=i;var c=window.document.documentElement,d=window.navigator.userAgent.toLowerCase(),u=["googletv","viera","smarttv","internet.tv","netcast","nettv","appletv","boxee","kylo","roku","dlnadoc","pov_tv","hbbtv","ce-html"];function l(n,o){return-1!==n.indexOf(o)}function s(n){return l(d,n)}function f(n){return c.className.match(new RegExp(n,"i"))}function b(n){var o=null;f(n)||(o=c.className.replace(/^\s+|\s+$/g,""),c.className=o+" "+n)}function p(n){f(n)&&(c.className=c.className.replace(" "+n,""))}function w(){i.landscape()?(p("portrait"),b("landscape"),y("landscape")):(p("landscape"),b("portrait"),y("portrait")),v()}function y(n){for(var o in a)a[o](n)}i.macos=function(){return s("mac")},i.ios=function(){return i.iphone()||i.ipod()||i.ipad()},i.iphone=function(){return!i.windows()&&s("iphone")},i.ipod=function(){return s("ipod")},i.ipad=function(){var n="MacIntel"===navigator.platform&&navigator.maxTouchPoints>1;return s("ipad")||n},i.android=function(){return!i.windows()&&s("android")},i.androidPhone=function(){return i.android()&&s("mobile")},i.androidTablet=function(){return i.android()&&!s("mobile")},i.blackberry=function(){return s("blackberry")||s("bb10")||s("rim")},i.blackberryPhone=function(){return i.blackberry()&&!s("tablet")},i.blackberryTablet=function(){return i.blackberry()&&s("tablet")},i.windows=function(){return s("windows")},i.windowsPhone=function(){return i.windows()&&s("phone")},i.windowsTablet=function(){return i.windows()&&s("touch")&&!i.windowsPhone()},i.fxos=function(){return(s("(mobile")||s("(tablet"))&&s(" rv:")},i.fxosPhone=function(){return i.fxos()&&s("mobile")},i.fxosTablet=function(){return i.fxos()&&s("tablet")},i.meego=function(){return s("meego")},i.cordova=function(){return window.cordova&&"file:"===location.protocol},i.nodeWebkit=function(){return"object"===t(window.process)},i.mobile=function(){return i.androidPhone()||i.iphone()||i.ipod()||i.windowsPhone()||i.blackberryPhone()||i.fxosPhone()||i.meego()},i.tablet=function(){return i.ipad()||i.androidTablet()||i.blackberryTablet()||i.windowsTablet()||i.fxosTablet()},i.desktop=function(){return!i.tablet()&&!i.mobile()},i.television=function(){for(var n=0;n<u.length;){if(s(u[n]))return!0;n++}return!1},i.portrait=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?l(screen.orientation.type,"portrait"):i.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?90!==Math.abs(window.orientation):window.innerHeight/window.innerWidth>1},i.landscape=function(){return screen.orientation&&Object.prototype.hasOwnProperty.call(window,"onorientationchange")?l(screen.orientation.type,"landscape"):i.ios()&&Object.prototype.hasOwnProperty.call(window,"orientation")?90===Math.abs(window.orientation):window.innerHeight/window.innerWidth<1},i.noConflict=function(){return window.device=r,this},i.ios()?i.ipad()?b("ios ipad tablet"):i.iphone()?b("ios iphone mobile"):i.ipod()&&b("ios ipod mobile"):i.macos()?b("macos desktop"):i.android()?i.androidTablet()?b("android tablet"):b("android mobile"):i.blackberry()?i.blackberryTablet()?b("blackberry tablet"):b("blackberry mobile"):i.windows()?i.windowsTablet()?b("windows tablet"):i.windowsPhone()?b("windows mobile"):b("windows desktop"):i.fxos()?i.fxosTablet()?b("fxos tablet"):b("fxos mobile"):i.meego()?b("meego mobile"):i.nodeWebkit()?b("node-webkit"):i.television()?b("television"):i.desktop()&&b("desktop"),i.cordova()&&b("cordova"),i.onChangeOrientation=function(n){"function"==typeof n&&a.push(n)};var m="resize";function h(n){for(var o=0;o<n.length;o++)if(i[n[o]]())return n[o];return"unknown"}function v(){i.orientation=h(["portrait","landscape"])}Object.prototype.hasOwnProperty.call(window,"onorientationchange")&&(m="orientationchange"),window.addEventListener?window.addEventListener(m,w,!1):window.attachEvent?window.attachEvent(m,w):window[m]=w,w(),i.type=h(["mobile","tablet","desktop"]),i.os=h(["ios","iphone","ipad","ipod","android","blackberry","macos","windows","fxos","meego","television"]),v(),o.default=i}]).default});


!function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var n=i(1),o=i.n(n),r=i(3),s=i.n(r),a={styles:"position: fixed; \t\ttop: 0px; \t\tleft: 0px; \t\tbottom: 0px; \t\tz-index: 999; \t\toverflow: auto; \t\tpadding: 1rem; \t\tcolor: #000; \t\tbackground-color: rgba(255, 255, 255, 0.9); \t\tfont-family: monospace;",uaobject:(new o.a).getResult(),screen:{"screen width":function(){return window.screen.width},"screen availWidth":function(){return window.screen.availWidth},"screen height":function(){return window.screen.height},"screen availHeight":function(){return window.screen.availHeight}},viewport:{"viewport width":function(){return window.innerWidth},"viewport height":function(){return window.innerHeight}},document:{"documentEl clientWidth":function(){return document.documentElement.clientWidth},"documentEl offsetWidth":function(){return document.documentElement.offsetWidth},"documentEl scrollWidth":function(){return document.documentElement.scrollWidth},"documentEl clientHeight":function(){return document.documentElement.clientHeight},"documentEl offsetHeight":function(){return document.documentElement.offsetHeight},"documentEl scrollHeight":function(){return document.documentElement.scrollHeight}},check_hash:function(){return"#debug"===window.location.hash},collect_uaobject:function(){var e=[];for(var t in a.uaobject)if("ua"!==a.uaobject[t]&&"object"==typeof a.uaobject[t]){e.push(t);for(var i in a.uaobject[t])e.push(i+": "+a.uaobject[t][i])}return e},collect_dimensions:function(){var e=[],t=["screen","viewport","document"];for(var i in t){var n=t[i];e.push(n);for(var o in a[n])e.push(o+": "+a[n][o]())}return e},append_html:function(){var e="",t="";e+='<div class="gcpi__uaobject">';for(var i=a.collect_uaobject(),n=0;n<i.length;n++)e+="<div>"+i[n]+"</div>",t+=i[n]+"\r\n";e+="</div>",e+='<div class="gcpi__groups">';for(var o=a.collect_dimensions(),r=0;r<o.length;r++)e+="<div>"+o[r]+"</div>",t+=o[r]+"\r\n";e+="</div>",e+='<button class="gcpi__close" type="button" >Close</button>',e+='<button class="gcpi__clipboard" data-clipboard-text="'+t+'" type="button" >Copy</button>';var c=document.createElement("div");c.className="gcpi",c.style.cssText=a.styles,c.innerHTML=e,document.body.appendChild(c),new s.a(".gcpi__clipboard")},update_on_resize:function(){for(var e="",t="",i=document.querySelector(".gcpi__groups"),n=document.querySelector(".gcpi__clipboard"),o=a.collect_uaobject(),r=0;r<o.length;r++)t+=o[r]+"\r\n";for(var s=a.collect_dimensions(),c=0;c<s.length;c++)e+="<div>"+s[c]+"</div>",t+=s[c]+"\r\n";i.innerHTML=e,n.dataset.clipboardText=t}},c=["load","hashchange"],l=0;l<c.length;l++)window.addEventListener(c[l],function(){a.check_hash()&&(a.append_html(),document.querySelector(".gcpi__close").addEventListener("click",function(){location.replace(location.href.replace("#debug",""))},!1))},!1);window.addEventListener("resize",function(){a.check_hash()&&a.update_on_resize()},!1)},function(e,t,i){var n;!function(o,r){"use strict";var s="model",a="name",c="type",l="vendor",u="version",d="mobile",f="tablet",h={extend:function(e,t){var i={};for(var n in e)t[n]&&t[n].length%2==0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},p={rgx:function(e,t){for(var i,n,o,r,s,a,c=0;c<t.length&&!s;){var l=t[c],u=t[c+1];for(i=n=0;i<l.length&&!s;)if(s=l[i++].exec(e))for(o=0;o<u.length;o++)a=s[++n],r=u[o],"object"==typeof r&&r.length>0?2==r.length?"function"==typeof r[1]?this[r[0]]=r[1].call(this,a):this[r[0]]=r[1]:3==r.length?"function"!=typeof r[1]||r[1].exec&&r[1].test?this[r[0]]=a?a.replace(r[1],r[2]):void 0:this[r[0]]=a?r[1].call(this,a,r[2]):void 0:4==r.length&&(this[r[0]]=a?r[3].call(this,a.replace(r[1],r[2])):void 0):this[r]=a||void 0;c+=2}},str:function(e,t){for(var i in t)if("object"==typeof t[i]&&t[i].length>0){for(var n=0;n<t[i].length;n++)if(h.has(t[i][n],e))return"?"===i?void 0:i}else if(h.has(t[i],e))return"?"===i?void 0:i;return e}},w={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},m={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[a,u],[/(opios)[\/\s]+([\w\.]+)/i],[[a,"Opera Mini"],u],[/\s(opr)\/([\w\.]+)/i],[[a,"Opera"],u],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser)\/([\w\.-]+)/i],[a,u],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[a,"IE"],u],[/(edge)\/((\d+)?[\w\.]+)/i],[a,u],[/(yabrowser)\/([\w\.]+)/i],[[a,"Yandex"],u],[/(puffin)\/([\w\.]+)/i],[[a,"Puffin"],u],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[a,"UCBrowser"],u],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],u],[/(micromessenger)\/([\w\.]+)/i],[[a,"WeChat"],u],[/(QQ)\/([\d\.]+)/i],[a,u],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[a,u],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[u,[a,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[u,[a,"Facebook"]],[/(headlesschrome) ([\w\.]+)/i],[u,[a,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[a,/(.+)/,"$1 WebView"],u],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[a,/(.+(?:g|us))(.+)/,"$1 $2"],u],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[u,[a,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[a,u],[/(dolfin)\/([\w\.]+)/i],[[a,"Dolphin"],u],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[a,"Chrome"],u],[/(coast)\/([\w\.]+)/i],[[a,"Opera Coast"],u],[/fxios\/([\w\.-]+)/i],[u,[a,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[u,[a,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[u,a],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[a,[u,p.str,w.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[a,u],[/(navigator|netscape)\/([\w\.-]+)/i],[[a,"Netscape"],u],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[a,u]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",h.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",h.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",h.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[s,l,[c,f]],[/applecoremedia\/[\w\.]+ \((ipad)/],[s,[l,"Apple"],[c,f]],[/(apple\s{0,1}tv)/i],[[s,"Apple TV"],[l,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[l,s,[c,f]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[s,[l,"Amazon"],[c,f]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[s,p.str,w.device.amazon.model],[l,"Amazon"],[c,d]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[s,l,[c,d]],[/\((ip[honed|\s\w*]+);/i],[s,[l,"Apple"],[c,d]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[l,s,[c,d]],[/\(bb10;\s(\w+)/i],[s,[l,"BlackBerry"],[c,d]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[s,[l,"Asus"],[c,f]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[l,"Sony"],[s,"Xperia Tablet"],[c,f]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[s,[l,"Sony"],[c,d]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[l,s,[c,"console"]],[/android.+;\s(shield)\sbuild/i],[s,[l,"Nvidia"],[c,"console"]],[/(playstation\s[34portablevi]+)/i],[s,[l,"Sony"],[c,"console"]],[/(sprint\s(\w+))/i],[[l,p.str,w.device.sprint.vendor],[s,p.str,w.device.sprint.model],[c,d]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[l,s,[c,f]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[l,[s,/_/g," "],[c,d]],[/(nexus\s9)/i],[s,[l,"HTC"],[c,f]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[s,[l,"Huawei"],[c,d]],[/(microsoft);\s(lumia[\s\w]+)/i],[l,s,[c,d]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[s,[l,"Microsoft"],[c,"console"]],[/(kin\.[onetw]{3})/i],[[s,/\./g," "],[l,"Microsoft"],[c,d]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[s,[l,"Motorola"],[c,d]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[s,[l,"Motorola"],[c,f]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[l,h.trim],[s,h.trim],[c,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[s,/^/,"SmartTV"],[l,"Samsung"],[c,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[s,[l,"Sharp"],[c,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[l,"Samsung"],s,[c,f]],[/smart-tv.+(samsung)/i],[l,[c,"smarttv"],s],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[l,"Samsung"],s,[c,d]],[/sie-(\w+)*/i],[s,[l,"Siemens"],[c,d]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[l,"Nokia"],s,[c,d]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[s,[l,"Acer"],[c,f]],[/android.+([vl]k\-?\d{3})\s+build/i],[s,[l,"LG"],[c,f]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[l,"LG"],s,[c,f]],[/(lg) netcast\.tv/i],[l,s,[c,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i,/android.+lg(\-?[\d\w]+)\s+build/i],[s,[l,"LG"],[c,d]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[s,[l,"Lenovo"],[c,f]],[/linux;.+((jolla));/i],[l,s,[c,d]],[/((pebble))app\/[\d\.]+\s/i],[l,s,[c,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[l,s,[c,d]],[/crkey/i],[[s,"Chromecast"],[l,"Google"]],[/android.+;\s(glass)\s\d/i],[s,[l,"Google"],[c,"wearable"]],[/android.+;\s(pixel c)\s/i],[s,[l,"Google"],[c,f]],[/android.+;\s(pixel xl|pixel)\s/i],[s,[l,"Google"],[c,d]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[[s,/_/g," "],[l,"Xiaomi"],[c,d]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[s,[l,"Meizu"],[c,f]],[/android.+a000(1)\s+build/i],[s,[l,"OnePlus"],[c,d]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[s,[l,"RCA"],[c,f]],[/android.+[;\/]\s*(Venue[\d\s]*)\s+build/i],[s,[l,"Dell"],[c,f]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[s,[l,"Verizon"],[c,f]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[l,"Barnes & Noble"],s,[c,f]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[s,[l,"NuVision"],[c,f]],[/android.+[;\/]\s*(zte)?.+(k\d{2})\s+build/i],[[l,"ZTE"],s,[c,f]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[s,[l,"Swiss"],[c,d]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[s,[l,"Swiss"],[c,f]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[s,[l,"Zeki"],[c,f]],[/(android).+[;\/]\s+([YR]\d{2}x?.*)\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(.+)\s+build/i],[[l,"Dragon Touch"],s,[c,f]],[/android.+[;\/]\s*(NS-?.+)\s+build/i],[s,[l,"Insignia"],[c,f]],[/android.+[;\/]\s*((NX|Next)-?.+)\s+build/i],[s,[l,"NextBook"],[c,f]],[/android.+[;\/]\s*(Xtreme\_?)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[l,"Voice"],s,[c,d]],[/android.+[;\/]\s*(LVTEL\-?)?(V1[12])\s+build/i],[[l,"LvTel"],s,[c,d]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[s,[l,"Envizen"],[c,f]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(.*\b)\s+build/i],[l,s,[c,f]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[s,[l,"MachSpeed"],[c,f]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[l,s,[c,f]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[s,[l,"Rotor"],[c,f]],[/android.+(KS(.+))\s+build/i],[s,[l,"Amazon"],[c,f]],[/android.+(Gigaset)[\s\-]+(Q.+)\s+build/i],[l,s,[c,f]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[c,h.lowerize],l,s],[/(android.+)[;\/].+build/i],[s,[l,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[u,[a,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[a,u],[/rv\:([\w\.]+).*(gecko)/i],[u,a]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[a,u],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[a,[u,p.str,w.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[a,"Windows"],[u,p.str,w.os.windows.version]],[/\((bb)(10);/i],[[a,"BlackBerry"],u],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[a,u],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[a,"Symbian"],u],[/\((series40);/i],[a],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[a,"Firefox OS"],u],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[a,u],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[a,"Chromium OS"],u],[/(sunos)\s?([\w\.]+\d)*/i],[[a,"Solaris"],u],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[a,u],[/(haiku)\s(\w+)/i],[a,u],[/cfnetwork\/.+darwin/i,/ip[honead]+(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[u,/_/g,"."],[a,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[a,"Mac OS"],[u,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[a,u]]},b=function(e,t){this[a]=e,this[u]=t},v=function(e){this.architecture=e},g=function(e,t,i){this[l]=e,this[s]=t,this[c]=i},y=b,k=b,x=function(e,t){if("object"==typeof e&&(t=e,e=void 0),!(this instanceof x))return new x(e,t).getResult();var i=e||(o&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:""),n=t?h.extend(m,t):m,r=new b,s=new v,a=new g,c=new y,l=new k;return this.getBrowser=function(){return p.rgx.call(r,i,n.browser),r.major=h.major(r.version),r},this.getCPU=function(){return p.rgx.call(s,i,n.cpu),s},this.getDevice=function(){return p.rgx.call(a,i,n.device),a},this.getEngine=function(){return p.rgx.call(c,i,n.engine),c},this.getOS=function(){return p.rgx.call(l,i,n.os),l},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,r=new b,s=new v,a=new g,c=new y,l=new k,this},this};x.VERSION="0.7.14",x.BROWSER={NAME:a,MAJOR:"major",VERSION:u},x.CPU={ARCHITECTURE:"architecture"},x.DEVICE={MODEL:s,VENDOR:l,TYPE:c,CONSOLE:"console",MOBILE:d,SMARTTV:"smarttv",TABLET:f,WEARABLE:"wearable",EMBEDDED:"embedded"},x.ENGINE={NAME:a,VERSION:u},x.OS={NAME:a,VERSION:u},void 0!==t?(void 0!==e&&e.exports&&(t=e.exports=x),t.UAParser=x):i(2)?void 0!==(n=function(){return x}.call(t,i,t,e))&&(e.exports=n):o&&(o.UAParser=x);var E=o&&(o.jQuery||o.Zepto);if(void 0!==E){var T=new x;E.ua=T.getResult(),E.ua.get=function(){return T.getUA()},E.ua.set=function(e){T.setUA(e);var t=T.getResult();for(var i in t)E.ua[i]=t[i]}}}("object"==typeof window?window:this)},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,i){var n,o,r;!function(s,a){o=[e,i(4),i(6),i(7)],n=a,void 0!==(r="function"==typeof n?n.apply(t,o):n)&&(e.exports=r)}(0,function(e,t,i,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){var i="data-clipboard-"+e;if(t.hasAttribute(i))return t.getAttribute(i)}var l=o(t),u=o(i),d=o(n),f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),p=function(e){function t(e,i){r(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.resolveOptions(i),n.listenClick(e),n}return a(t,e),h(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===f(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,d.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return c("action",e)}},{key:"defaultTarget",value:function(e){var t=c("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return c("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,i=!!document.queryCommandSupported;return t.forEach(function(e){i=i&&!!document.queryCommandSupported(e)}),i}}]),t}(u.default);e.exports=p})},function(e,t,i){var n,o,r;!function(s,a){o=[e,i(5)],n=a,void 0!==(r="function"==typeof n?n.apply(t,o):n)&&(e.exports=r)}(0,function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(e){return e&&e.__esModule?e:{default:e}}(t),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=function(){function e(t){i(this,e),this.resolveOptions(t),this.initSelection()}return r(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var i=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=i+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,n.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,n.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":o(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=s})},function(e,t){function i(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var i=e.hasAttribute("readonly");i||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),i||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),o=document.createRange();o.selectNodeContents(e),n.removeAllRanges(),n.addRange(o),t=n.toString()}return t}e.exports=i},function(e,t){function i(){}i.prototype={on:function(e,t,i){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:i}),this},once:function(e,t,i){function n(){o.off(e,n),t.apply(i,arguments)}var o=this;return n._=t,this.on(e,n,i)},emit:function(e){var t=[].slice.call(arguments,1),i=((this.e||(this.e={}))[e]||[]).slice(),n=0,o=i.length;for(n;n<o;n++)i[n].fn.apply(i[n].ctx,t);return this},off:function(e,t){var i=this.e||(this.e={}),n=i[e],o=[];if(n&&t)for(var r=0,s=n.length;r<s;r++)n[r].fn!==t&&n[r].fn._!==t&&o.push(n[r]);return o.length?i[e]=o:delete i[e],this}},e.exports=i},function(e,t,i){function n(e,t,i){if(!e&&!t&&!i)throw new Error("Missing required arguments");if(!a.string(t))throw new TypeError("Second argument must be a String");if(!a.fn(i))throw new TypeError("Third argument must be a Function");if(a.node(e))return o(e,t,i);if(a.nodeList(e))return r(e,t,i);if(a.string(e))return s(e,t,i);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function o(e,t,i){return e.addEventListener(t,i),{destroy:function(){e.removeEventListener(t,i)}}}function r(e,t,i){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,i)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,i)})}}}function s(e,t,i){return c(document.body,e,t,i)}var a=i(8),c=i(9);e.exports=n},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var i=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===i||"[object HTMLCollection]"===i)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,i){function n(e,t,i,n,r){var s=o.apply(this,arguments);return e.addEventListener(i,s,r),{destroy:function(){e.removeEventListener(i,s,r)}}}function o(e,t,i,n){return function(i){i.delegateTarget=r(i.target,t),i.delegateTarget&&n.call(e,i)}}var r=i(10);e.exports=n},function(e,t){function i(e,t){for(;e&&e.nodeType!==n;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}var n=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var o=Element.prototype;o.matches=o.matchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.webkitMatchesSelector}e.exports=i}]);
/*! Hammer.JS - v2.0.8 - 2016-04-23
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(a,b,c,d){"use strict";function e(a,b,c){return setTimeout(j(a,c),b)}function f(a,b,c){return Array.isArray(a)?(g(a,c[b],c),!0):!1}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(b,c,d){var e="DEPRECATED METHOD: "+c+"\n"+d+" AT \n";return function(){var c=new Error("get-stack-trace"),d=c&&c.stack?c.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",f=a.console&&(a.console.warn||a.console.log);return f&&f.call(a.console,e,d),b.apply(this,arguments)}}function i(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&la(d,c)}function j(a,b){return function(){return a.apply(b,arguments)}}function k(a,b){return typeof a==oa?a.apply(b?b[0]||d:d,b):a}function l(a,b){return a===d?b:a}function m(a,b,c){g(q(b),function(b){a.addEventListener(b,c,!1)})}function n(a,b,c){g(q(b),function(b){a.removeEventListener(b,c,!1)})}function o(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function p(a,b){return a.indexOf(b)>-1}function q(a){return a.trim().split(/\s+/g)}function r(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function s(a){return Array.prototype.slice.call(a,0)}function t(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];r(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function u(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<ma.length;){if(c=ma[g],e=c?c+f:b,e in a)return e;g++}return d}function v(){return ua++}function w(b){var c=b.ownerDocument||b;return c.defaultView||c.parentWindow||a}function x(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){k(a.options.enable,[a])&&c.handler(b)},this.init()}function y(a){var b,c=a.options.inputClass;return new(b=c?c:xa?M:ya?P:wa?R:L)(a,z)}function z(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&Ea&&d-e===0,g=b&(Ga|Ha)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,A(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function A(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=D(b)),e>1&&!c.firstMultiple?c.firstMultiple=D(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=E(d);b.timeStamp=ra(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=I(h,i),b.distance=H(h,i),B(c,b),b.offsetDirection=G(b.deltaX,b.deltaY);var j=F(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=j.x,b.overallVelocityY=j.y,b.overallVelocity=qa(j.x)>qa(j.y)?j.x:j.y,b.scale=g?K(g.pointers,d):1,b.rotation=g?J(g.pointers,d):0,b.maxPointers=c.prevInput?b.pointers.length>c.prevInput.maxPointers?b.pointers.length:c.prevInput.maxPointers:b.pointers.length,C(c,b);var k=a.element;o(b.srcEvent.target,k)&&(k=b.srcEvent.target),b.target=k}function B(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};b.eventType!==Ea&&f.eventType!==Ga||(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function C(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ha&&(i>Da||h.velocity===d)){var j=b.deltaX-h.deltaX,k=b.deltaY-h.deltaY,l=F(i,j,k);e=l.x,f=l.y,c=qa(l.x)>qa(l.y)?l.x:l.y,g=G(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function D(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:pa(a.pointers[c].clientX),clientY:pa(a.pointers[c].clientY)},c++;return{timeStamp:ra(),pointers:b,center:E(b),deltaX:a.deltaX,deltaY:a.deltaY}}function E(a){var b=a.length;if(1===b)return{x:pa(a[0].clientX),y:pa(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:pa(c/b),y:pa(d/b)}}function F(a,b,c){return{x:b/a||0,y:c/a||0}}function G(a,b){return a===b?Ia:qa(a)>=qa(b)?0>a?Ja:Ka:0>b?La:Ma}function H(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function I(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function J(a,b){return I(b[1],b[0],Ra)+I(a[1],a[0],Ra)}function K(a,b){return H(b[0],b[1],Ra)/H(a[0],a[1],Ra)}function L(){this.evEl=Ta,this.evWin=Ua,this.pressed=!1,x.apply(this,arguments)}function M(){this.evEl=Xa,this.evWin=Ya,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=$a,this.evWin=_a,this.started=!1,x.apply(this,arguments)}function O(a,b){var c=s(a.touches),d=s(a.changedTouches);return b&(Ga|Ha)&&(c=t(c.concat(d),"identifier",!0)),[c,d]}function P(){this.evTarget=bb,this.targetIds={},x.apply(this,arguments)}function Q(a,b){var c=s(a.touches),d=this.targetIds;if(b&(Ea|Fa)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=s(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return o(a.target,i)}),b===Ea)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Ga|Ha)&&delete d[g[e].identifier],e++;return h.length?[t(f.concat(h),"identifier",!0),h]:void 0}function R(){x.apply(this,arguments);var a=j(this.handler,this);this.touch=new P(this.manager,a),this.mouse=new L(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}function S(a,b){a&Ea?(this.primaryTouch=b.changedPointers[0].identifier,T.call(this,b)):a&(Ga|Ha)&&T.call(this,b)}function T(a){var b=a.changedPointers[0];if(b.identifier===this.primaryTouch){var c={x:b.clientX,y:b.clientY};this.lastTouches.push(c);var d=this.lastTouches,e=function(){var a=d.indexOf(c);a>-1&&d.splice(a,1)};setTimeout(e,cb)}}function U(a){for(var b=a.srcEvent.clientX,c=a.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var e=this.lastTouches[d],f=Math.abs(b-e.x),g=Math.abs(c-e.y);if(db>=f&&db>=g)return!0}return!1}function V(a,b){this.manager=a,this.set(b)}function W(a){if(p(a,jb))return jb;var b=p(a,kb),c=p(a,lb);return b&&c?jb:b||c?b?kb:lb:p(a,ib)?ib:hb}function X(){if(!fb)return!1;var b={},c=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(d){b[d]=c?a.CSS.supports("touch-action",d):!0}),b}function Y(a){this.options=la({},this.defaults,a||{}),this.id=v(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=nb,this.simultaneous={},this.requireFail=[]}function Z(a){return a&sb?"cancel":a&qb?"end":a&pb?"move":a&ob?"start":""}function $(a){return a==Ma?"down":a==La?"up":a==Ja?"left":a==Ka?"right":""}function _(a,b){var c=b.manager;return c?c.get(a):a}function aa(){Y.apply(this,arguments)}function ba(){aa.apply(this,arguments),this.pX=null,this.pY=null}function ca(){aa.apply(this,arguments)}function da(){Y.apply(this,arguments),this._timer=null,this._input=null}function ea(){aa.apply(this,arguments)}function fa(){aa.apply(this,arguments)}function ga(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ha(a,b){return b=b||{},b.recognizers=l(b.recognizers,ha.defaults.preset),new ia(a,b)}function ia(a,b){this.options=la({},ha.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=y(this),this.touchAction=new V(this,this.options.touchAction),ja(this,!0),g(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function ja(a,b){var c=a.element;if(c.style){var d;g(a.options.cssProps,function(e,f){d=u(c.style,f),b?(a.oldCssProps[d]=c.style[d],c.style[d]=e):c.style[d]=a.oldCssProps[d]||""}),b||(a.oldCssProps={})}}function ka(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var la,ma=["","webkit","Moz","MS","ms","o"],na=b.createElement("div"),oa="function",pa=Math.round,qa=Math.abs,ra=Date.now;la="function"!=typeof Object.assign?function(a){if(a===d||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var e=arguments[c];if(e!==d&&null!==e)for(var f in e)e.hasOwnProperty(f)&&(b[f]=e[f])}return b}:Object.assign;var sa=h(function(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a},"extend","Use `assign`."),ta=h(function(a,b){return sa(a,b,!0)},"merge","Use `assign`."),ua=1,va=/mobile|tablet|ip(ad|hone|od)|android/i,wa="ontouchstart"in a,xa=u(a,"PointerEvent")!==d,ya=wa&&va.test(navigator.userAgent),za="touch",Aa="pen",Ba="mouse",Ca="kinect",Da=25,Ea=1,Fa=2,Ga=4,Ha=8,Ia=1,Ja=2,Ka=4,La=8,Ma=16,Na=Ja|Ka,Oa=La|Ma,Pa=Na|Oa,Qa=["x","y"],Ra=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(w(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(w(this.element),this.evWin,this.domHandler)}};var Sa={mousedown:Ea,mousemove:Fa,mouseup:Ga},Ta="mousedown",Ua="mousemove mouseup";i(L,x,{handler:function(a){var b=Sa[a.type];b&Ea&&0===a.button&&(this.pressed=!0),b&Fa&&1!==a.which&&(b=Ga),this.pressed&&(b&Ga&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:Ba,srcEvent:a}))}});var Va={pointerdown:Ea,pointermove:Fa,pointerup:Ga,pointercancel:Ha,pointerout:Ha},Wa={2:za,3:Aa,4:Ba,5:Ca},Xa="pointerdown",Ya="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(Xa="MSPointerDown",Ya="MSPointerMove MSPointerUp MSPointerCancel"),i(M,x,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Va[d],f=Wa[a.pointerType]||a.pointerType,g=f==za,h=r(b,a.pointerId,"pointerId");e&Ea&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(Ga|Ha)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Za={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},$a="touchstart",_a="touchstart touchmove touchend touchcancel";i(N,x,{handler:function(a){var b=Za[a.type];if(b===Ea&&(this.started=!0),this.started){var c=O.call(this,a,b);b&(Ga|Ha)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}}});var ab={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},bb="touchstart touchmove touchend touchcancel";i(P,x,{handler:function(a){var b=ab[a.type],c=Q.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}});var cb=2500,db=25;i(R,x,{handler:function(a,b,c){var d=c.pointerType==za,e=c.pointerType==Ba;if(!(e&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)S.call(this,b,c);else if(e&&U.call(this,c))return;this.callback(a,b,c)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var eb=u(na.style,"touchAction"),fb=eb!==d,gb="compute",hb="auto",ib="manipulation",jb="none",kb="pan-x",lb="pan-y",mb=X();V.prototype={set:function(a){a==gb&&(a=this.compute()),fb&&this.manager.element.style&&mb[a]&&(this.manager.element.style[eb]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){k(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),W(a.join(" "))},preventDefaults:function(a){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=p(d,jb)&&!mb[jb],f=p(d,lb)&&!mb[lb],g=p(d,kb)&&!mb[kb];if(e){var h=1===a.pointers.length,i=a.distance<2,j=a.deltaTime<250;if(h&&i&&j)return}return g&&f?void 0:e||f&&c&Na||g&&c&Oa?this.preventSrc(b):void 0},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var nb=1,ob=2,pb=4,qb=8,rb=qb,sb=16,tb=32;Y.prototype={defaults:{},set:function(a){return la(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=_(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)?this:(a=_(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return a=_(a,this),-1===r(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=_(a,this);var b=r(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(b,a)}var c=this,d=this.state;qb>d&&b(c.options.event+Z(d)),b(c.options.event),a.additionalEvent&&b(a.additionalEvent),d>=qb&&b(c.options.event+Z(d))},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=tb)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(tb|nb)))return!1;a++}return!0},recognize:function(a){var b=la({},a);return k(this.options.enable,[this,b])?(this.state&(rb|sb|tb)&&(this.state=nb),this.state=this.process(b),void(this.state&(ob|pb|qb|sb)&&this.tryEmit(b))):(this.reset(),void(this.state=tb))},process:function(a){},getTouchAction:function(){},reset:function(){}},i(aa,Y,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(ob|pb),e=this.attrTest(a);return d&&(c&Ha||!e)?b|sb:d||e?c&Ga?b|qb:b&ob?b|pb:ob:tb}}),i(ba,aa,{defaults:{event:"pan",threshold:10,pointers:1,direction:Pa},getTouchAction:function(){var a=this.options.direction,b=[];return a&Na&&b.push(lb),a&Oa&&b.push(kb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Na?(e=0===f?Ia:0>f?Ja:Ka,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ia:0>g?La:Ma,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return aa.prototype.attrTest.call(this,a)&&(this.state&ob||!(this.state&ob)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=$(a.direction);b&&(a.additionalEvent=this.options.event+b),this._super.emit.call(this,a)}}),i(ca,aa,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&ob)},emit:function(a){if(1!==a.scale){var b=a.scale<1?"in":"out";a.additionalEvent=this.options.event+b}this._super.emit.call(this,a)}}),i(da,Y,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[hb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Ga|Ha)&&!f)this.reset();else if(a.eventType&Ea)this.reset(),this._timer=e(function(){this.state=rb,this.tryEmit()},b.time,this);else if(a.eventType&Ga)return rb;return tb},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===rb&&(a&&a.eventType&Ga?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=ra(),this.manager.emit(this.options.event,this._input)))}}),i(ea,aa,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&ob)}}),i(fa,aa,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Na|Oa,pointers:1},getTouchAction:function(){return ba.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Na|Oa)?b=a.overallVelocity:c&Na?b=a.overallVelocityX:c&Oa&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&qa(b)>this.options.velocity&&a.eventType&Ga},emit:function(a){var b=$(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),i(ga,Y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ib]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&Ea&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=Ga)return this.failTimeout();var g=this.pTime?a.timeStamp-this.pTime<b.interval:!0,h=!this.pCenter||H(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=e(function(){this.state=rb,this.tryEmit()},b.interval,this),ob):rb}return tb},failTimeout:function(){return this._timer=e(function(){this.state=tb},this.options.interval,this),tb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==rb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ha.VERSION="2.0.8",ha.defaults={domEvents:!1,touchAction:gb,enable:!0,inputTarget:null,inputClass:null,preset:[[ea,{enable:!1}],[ca,{enable:!1},["rotate"]],[fa,{direction:Na}],[ba,{direction:Na},["swipe"]],[ga],[ga,{event:"doubletap",taps:2},["tap"]],[da]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ub=1,vb=2;ia.prototype={set:function(a){return la(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?vb:ub},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&rb)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===vb||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(ob|pb|qb)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof Y)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers,c=r(b,a);-1!==c&&(b.splice(c,1),this.touchAction.update())}return this},on:function(a,b){if(a!==d&&b!==d){var c=this.handlers;return g(q(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this}},off:function(a,b){if(a!==d){var c=this.handlers;return g(q(a),function(a){b?c[a]&&c[a].splice(r(c[a],b),1):delete c[a]}),this}},emit:function(a,b){this.options.domEvents&&ka(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&ja(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},la(ha,{INPUT_START:Ea,INPUT_MOVE:Fa,INPUT_END:Ga,INPUT_CANCEL:Ha,STATE_POSSIBLE:nb,STATE_BEGAN:ob,STATE_CHANGED:pb,STATE_ENDED:qb,STATE_RECOGNIZED:rb,STATE_CANCELLED:sb,STATE_FAILED:tb,DIRECTION_NONE:Ia,DIRECTION_LEFT:Ja,DIRECTION_RIGHT:Ka,DIRECTION_UP:La,DIRECTION_DOWN:Ma,DIRECTION_HORIZONTAL:Na,DIRECTION_VERTICAL:Oa,DIRECTION_ALL:Pa,Manager:ia,Input:x,TouchAction:V,TouchInput:P,MouseInput:L,PointerEventInput:M,TouchMouseInput:R,SingleTouchInput:N,Recognizer:Y,AttrRecognizer:aa,Tap:ga,Pan:ba,Swipe:fa,Pinch:ca,Rotate:ea,Press:da,on:m,off:n,each:g,merge:ta,extend:sa,assign:la,inherit:i,bindFn:j,prefixed:u});var wb="undefined"!=typeof a?a:"undefined"!=typeof self?self:{};wb.Hammer=ha,"function"==typeof define&&define.amd?define(function(){return ha}):"undefined"!=typeof module&&module.exports?module.exports=ha:a[c]=ha}(window,document,"Hammer");
//# sourceMappingURL=hammer.min.js.map

/*! lazysizes - v5.2.0 */
!function(a,b){var c=b(a,a.document,Date);a.lazySizes=c,"object"==typeof module&&module.exports&&(module.exports=c)}("undefined"!=typeof window?window:{},function(a,b,c){"use strict";var d,e;if(function(){var b,c={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};e=a.lazySizesConfig||a.lazysizesConfig||{};for(b in c)b in e||(e[b]=c[b])}(),!b||!b.getElementsByClassName)return{init:function(){},cfg:e,noSupport:!0};var f=b.documentElement,g=a.HTMLPictureElement,h="addEventListener",i="getAttribute",j=a[h].bind(a),k=a.setTimeout,l=a.requestAnimationFrame||k,m=a.requestIdleCallback,n=/^picture$/i,o=["load","error","lazyincluded","_lazyloaded"],p={},q=Array.prototype.forEach,r=function(a,b){return p[b]||(p[b]=new RegExp("(\\s|^)"+b+"(\\s|$)")),p[b].test(a[i]("class")||"")&&p[b]},s=function(a,b){r(a,b)||a.setAttribute("class",(a[i]("class")||"").trim()+" "+b)},t=function(a,b){var c;(c=r(a,b))&&a.setAttribute("class",(a[i]("class")||"").replace(c," "))},u=function(a,b,c){var d=c?h:"removeEventListener";c&&u(a,b),o.forEach(function(c){a[d](c,b)})},v=function(a,c,e,f,g){var h=b.createEvent("Event");return e||(e={}),e.instance=d,h.initEvent(c,!f,!g),h.detail=e,a.dispatchEvent(h),h},w=function(b,c){var d;!g&&(d=a.picturefill||e.pf)?(c&&c.src&&!b[i]("srcset")&&b.setAttribute("srcset",c.src),d({reevaluate:!0,elements:[b]})):c&&c.src&&(b.src=c.src)},x=function(a,b){return(getComputedStyle(a,null)||{})[b]},y=function(a,b,c){for(c=c||a.offsetWidth;c<e.minSize&&b&&!a._lazysizesWidth;)c=b.offsetWidth,b=b.parentNode;return c},z=function(){var a,c,d=[],e=[],f=d,g=function(){var b=f;for(f=d.length?e:d,a=!0,c=!1;b.length;)b.shift()();a=!1},h=function(d,e){a&&!e?d.apply(this,arguments):(f.push(d),c||(c=!0,(b.hidden?k:l)(g)))};return h._lsFlush=g,h}(),A=function(a,b){return b?function(){z(a)}:function(){var b=this,c=arguments;z(function(){a.apply(b,c)})}},B=function(a){var b,d=0,f=e.throttleDelay,g=e.ricTimeout,h=function(){b=!1,d=c.now(),a()},i=m&&g>49?function(){m(h,{timeout:g}),g!==e.ricTimeout&&(g=e.ricTimeout)}:A(function(){k(h)},!0);return function(a){var e;(a=!0===a)&&(g=33),b||(b=!0,e=f-(c.now()-d),e<0&&(e=0),a||e<9?i():k(i,e))}},C=function(a){var b,d,e=99,f=function(){b=null,a()},g=function(){var a=c.now()-d;a<e?k(g,e-a):(m||f)(f)};return function(){d=c.now(),b||(b=k(g,e))}},D=function(){var g,m,o,p,y,D,F,G,H,I,J,K,L=/^img$/i,M=/^iframe$/i,N="onscroll"in a&&!/(gle|ing)bot/.test(navigator.userAgent),O=0,P=0,Q=0,R=-1,S=function(a){Q--,(!a||Q<0||!a.target)&&(Q=0)},T=function(a){return null==K&&(K="hidden"==x(b.body,"visibility")),K||!("hidden"==x(a.parentNode,"visibility")&&"hidden"==x(a,"visibility"))},U=function(a,c){var d,e=a,g=T(a);for(G-=c,J+=c,H-=c,I+=c;g&&(e=e.offsetParent)&&e!=b.body&&e!=f;)(g=(x(e,"opacity")||1)>0)&&"visible"!=x(e,"overflow")&&(d=e.getBoundingClientRect(),g=I>d.left&&H<d.right&&J>d.top-1&&G<d.bottom+1);return g},V=function(){var a,c,h,j,k,l,n,o,q,r,s,t,u=d.elements;if((p=e.loadMode)&&Q<8&&(a=u.length)){for(c=0,R++;c<a;c++)if(u[c]&&!u[c]._lazyRace)if(!N||d.prematureUnveil&&d.prematureUnveil(u[c]))ba(u[c]);else if((o=u[c][i]("data-expand"))&&(l=1*o)||(l=P),r||(r=!e.expand||e.expand<1?f.clientHeight>500&&f.clientWidth>500?500:370:e.expand,d._defEx=r,s=r*e.expFactor,t=e.hFac,K=null,P<s&&Q<1&&R>2&&p>2&&!b.hidden?(P=s,R=0):P=p>1&&R>1&&Q<6?r:O),q!==l&&(D=innerWidth+l*t,F=innerHeight+l,n=-1*l,q=l),h=u[c].getBoundingClientRect(),(J=h.bottom)>=n&&(G=h.top)<=F&&(I=h.right)>=n*t&&(H=h.left)<=D&&(J||I||H||G)&&(e.loadHidden||T(u[c]))&&(m&&Q<3&&!o&&(p<3||R<4)||U(u[c],l))){if(ba(u[c]),k=!0,Q>9)break}else!k&&m&&!j&&Q<4&&R<4&&p>2&&(g[0]||e.preloadAfterLoad)&&(g[0]||!o&&(J||I||H||G||"auto"!=u[c][i](e.sizesAttr)))&&(j=g[0]||u[c]);j&&!k&&ba(j)}},W=B(V),X=function(a){var b=a.target;if(b._lazyCache)return void delete b._lazyCache;S(a),s(b,e.loadedClass),t(b,e.loadingClass),u(b,Z),v(b,"lazyloaded")},Y=A(X),Z=function(a){Y({target:a.target})},$=function(a,b){try{a.contentWindow.location.replace(b)}catch(c){a.src=b}},_=function(a){var b,c=a[i](e.srcsetAttr);(b=e.customMedia[a[i]("data-media")||a[i]("media")])&&a.setAttribute("media",b),c&&a.setAttribute("srcset",c)},aa=A(function(a,b,c,d,f){var g,h,j,l,m,p;(m=v(a,"lazybeforeunveil",b)).defaultPrevented||(d&&(c?s(a,e.autosizesClass):a.setAttribute("sizes",d)),h=a[i](e.srcsetAttr),g=a[i](e.srcAttr),f&&(j=a.parentNode,l=j&&n.test(j.nodeName||"")),p=b.firesLoad||"src"in a&&(h||g||l),m={target:a},s(a,e.loadingClass),p&&(clearTimeout(o),o=k(S,2500),u(a,Z,!0)),l&&q.call(j.getElementsByTagName("source"),_),h?a.setAttribute("srcset",h):g&&!l&&(M.test(a.nodeName)?$(a,g):a.src=g),f&&(h||l)&&w(a,{src:g})),a._lazyRace&&delete a._lazyRace,t(a,e.lazyClass),z(function(){var b=a.complete&&a.naturalWidth>1;p&&!b||(b&&s(a,"ls-is-cached"),X(m),a._lazyCache=!0,k(function(){"_lazyCache"in a&&delete a._lazyCache},9)),"lazy"==a.loading&&Q--},!0)}),ba=function(a){if(!a._lazyRace){var b,c=L.test(a.nodeName),d=c&&(a[i](e.sizesAttr)||a[i]("sizes")),f="auto"==d;(!f&&m||!c||!a[i]("src")&&!a.srcset||a.complete||r(a,e.errorClass)||!r(a,e.lazyClass))&&(b=v(a,"lazyunveilread").detail,f&&E.updateElem(a,!0,a.offsetWidth),a._lazyRace=!0,Q++,aa(a,b,f,d,c))}},ca=C(function(){e.loadMode=3,W()}),da=function(){3==e.loadMode&&(e.loadMode=2),ca()},ea=function(){if(!m){if(c.now()-y<999)return void k(ea,999);m=!0,e.loadMode=3,W(),j("scroll",da,!0)}};return{_:function(){y=c.now(),d.elements=b.getElementsByClassName(e.lazyClass),g=b.getElementsByClassName(e.lazyClass+" "+e.preloadClass),j("scroll",W,!0),j("resize",W,!0),j("pageshow",function(a){if(a.persisted){var c=b.querySelectorAll("."+e.loadingClass);c.length&&c.forEach&&l(function(){c.forEach(function(a){a.complete&&ba(a)})})}}),a.MutationObserver?new MutationObserver(W).observe(f,{childList:!0,subtree:!0,attributes:!0}):(f[h]("DOMNodeInserted",W,!0),f[h]("DOMAttrModified",W,!0),setInterval(W,999)),j("hashchange",W,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(a){b[h](a,W,!0)}),/d$|^c/.test(b.readyState)?ea():(j("load",ea),b[h]("DOMContentLoaded",W),k(ea,2e4)),d.elements.length?(V(),z._lsFlush()):W()},checkElems:W,unveil:ba,_aLSL:da}}(),E=function(){var a,c=A(function(a,b,c,d){var e,f,g;if(a._lazysizesWidth=d,d+="px",a.setAttribute("sizes",d),n.test(b.nodeName||""))for(e=b.getElementsByTagName("source"),f=0,g=e.length;f<g;f++)e[f].setAttribute("sizes",d);c.detail.dataAttr||w(a,c.detail)}),d=function(a,b,d){var e,f=a.parentNode;f&&(d=y(a,f,d),e=v(a,"lazybeforesizes",{width:d,dataAttr:!!b}),e.defaultPrevented||(d=e.detail.width)&&d!==a._lazysizesWidth&&c(a,f,e,d))},f=function(){var b,c=a.length;if(c)for(b=0;b<c;b++)d(a[b])},g=C(f);return{_:function(){a=b.getElementsByClassName(e.autosizesClass),j("resize",g)},checkElems:g,updateElem:d}}(),F=function(){!F.i&&b.getElementsByClassName&&(F.i=!0,E._(),D._())};return k(function(){e.init&&F()}),d={cfg:e,autoSizer:E,loader:D,init:F,uP:w,aC:s,rC:t,hC:r,fire:v,gW:y,rAF:z}});

/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash include="debounce,throttle"`
 * Copyright JS Foundation and other contributors <https://js.foundation/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
;(function() {

    /** Used as a safe reference for `undefined` in pre-ES5 environments. */
    var undefined;

    /** Used as the semantic version number. */
    var VERSION = '4.17.5';

    /** Error message constants. */
    var FUNC_ERROR_TEXT = 'Expected a function';

    /** Used as references for various `Number` constants. */
    var NAN = 0 / 0;

    /** `Object#toString` result references. */
    var nullTag = '[object Null]',
        symbolTag = '[object Symbol]',
        undefinedTag = '[object Undefined]';

    /** Used to match leading and trailing whitespace. */
    var reTrim = /^\s+|\s+$/g;

    /** Used to detect bad signed hexadecimal string values. */
    var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;

    /** Used to detect binary string values. */
    var reIsBinary = /^0b[01]+$/i;

    /** Used to detect octal string values. */
    var reIsOctal = /^0o[0-7]+$/i;

    /** Built-in method references without a dependency on `root`. */
    var freeParseInt = parseInt;

    /** Detect free variable `global` from Node.js. */
    var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

    /** Detect free variable `self`. */
    var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

    /** Used as a reference to the global object. */
    var root = freeGlobal || freeSelf || Function('return this')();

    /** Detect free variable `exports`. */
    var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;

    /** Detect free variable `module`. */
    var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;

    /*--------------------------------------------------------------------------*/

    /** Used for built-in method references. */
    var objectProto = Object.prototype;

    /** Used to check objects for own properties. */
    var hasOwnProperty = objectProto.hasOwnProperty;

    /**
     * Used to resolve the
     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
     * of values.
     */
    var nativeObjectToString = objectProto.toString;

    /** Built-in value references. */
    var Symbol = root.Symbol,
        symToStringTag = Symbol ? Symbol.toStringTag : undefined;

    /* Built-in method references for those with the same name as other `lodash` methods. */
    var nativeMax = Math.max,
        nativeMin = Math.min;

    /** Used to lookup unminified function names. */
    var realNames = {};

    /*------------------------------------------------------------------------*/

    /**
     * Creates a `lodash` object which wraps `value` to enable implicit method
     * chain sequences. Methods that operate on and return arrays, collections,
     * and functions can be chained together. Methods that retrieve a single value
     * or may return a primitive value will automatically end the chain sequence
     * and return the unwrapped value. Otherwise, the value must be unwrapped
     * with `_#value`.
     *
     * Explicit chain sequences, which must be unwrapped with `_#value`, may be
     * enabled using `_.chain`.
     *
     * The execution of chained methods is lazy, that is, it's deferred until
     * `_#value` is implicitly or explicitly called.
     *
     * Lazy evaluation allows several methods to support shortcut fusion.
     * Shortcut fusion is an optimization to merge iteratee calls; this avoids
     * the creation of intermediate arrays and can greatly reduce the number of
     * iteratee executions. Sections of a chain sequence qualify for shortcut
     * fusion if the section is applied to an array and iteratees accept only
     * one argument. The heuristic for whether a section qualifies for shortcut
     * fusion is subject to change.
     *
     * Chaining is supported in custom builds as long as the `_#value` method is
     * directly or indirectly included in the build.
     *
     * In addition to lodash methods, wrappers have `Array` and `String` methods.
     *
     * The wrapper `Array` methods are:
     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`
     *
     * The wrapper `String` methods are:
     * `replace` and `split`
     *
     * The wrapper methods that support shortcut fusion are:
     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,
     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,
     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`
     *
     * The chainable wrapper methods are:
     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,
     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,
     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,
     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,
     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,
     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,
     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,
     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,
     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,
     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,
     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,
     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,
     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,
     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,
     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,
     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,
     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,
     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,
     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,
     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,
     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,
     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,
     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,
     * `zipObject`, `zipObjectDeep`, and `zipWith`
     *
     * The wrapper methods that are **not** chainable by default are:
     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,
     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,
     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,
     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,
     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,
     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,
     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,
     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,
     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,
     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,
     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,
     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,
     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,
     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,
     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,
     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,
     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,
     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,
     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,
     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,
     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,
     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,
     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,
     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,
     * `upperFirst`, `value`, and `words`
     *
     * @name _
     * @constructor
     * @category Seq
     * @param {*} value The value to wrap in a `lodash` instance.
     * @returns {Object} Returns the new `lodash` wrapper instance.
     * @example
     *
     * function square(n) {
     *   return n * n;
     * }
     *
     * var wrapped = _([1, 2, 3]);
     *
     * // Returns an unwrapped value.
     * wrapped.reduce(_.add);
     * // => 6
     *
     * // Returns a wrapped value.
     * var squares = wrapped.map(square);
     *
     * _.isArray(squares);
     * // => false
     *
     * _.isArray(squares.value());
     * // => true
     */
    function lodash() {
        // No operation performed.
    }

    /*------------------------------------------------------------------------*/

    /**
     * The base implementation of `getTag` without fallbacks for buggy environments.
     *
     * @private
     * @param {*} value The value to query.
     * @returns {string} Returns the `toStringTag`.
     */
    function baseGetTag(value) {
        if (value == null) {
            return value === undefined ? undefinedTag : nullTag;
        }
        return (symToStringTag && symToStringTag in Object(value))
            ? getRawTag(value)
            : objectToString(value);
    }

    /**
     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.
     *
     * @private
     * @param {*} value The value to query.
     * @returns {string} Returns the raw `toStringTag`.
     */
    function getRawTag(value) {
        var isOwn = hasOwnProperty.call(value, symToStringTag),
            tag = value[symToStringTag];

        try {
            value[symToStringTag] = undefined;
            var unmasked = true;
        } catch (e) {}

        var result = nativeObjectToString.call(value);
        if (unmasked) {
            if (isOwn) {
                value[symToStringTag] = tag;
            } else {
                delete value[symToStringTag];
            }
        }
        return result;
    }

    /**
     * Converts `value` to a string using `Object.prototype.toString`.
     *
     * @private
     * @param {*} value The value to convert.
     * @returns {string} Returns the converted string.
     */
    function objectToString(value) {
        return nativeObjectToString.call(value);
    }

    /*------------------------------------------------------------------------*/

    /**
     * Gets the timestamp of the number of milliseconds that have elapsed since
     * the Unix epoch (1 January 1970 00:00:00 UTC).
     *
     * @static
     * @memberOf _
     * @since 2.4.0
     * @category Date
     * @returns {number} Returns the timestamp.
     * @example
     *
     * _.defer(function(stamp) {
     *   console.log(_.now() - stamp);
     * }, _.now());
     * // => Logs the number of milliseconds it took for the deferred invocation.
     */
    var now = function() {
        return root.Date.now();
    };

    /*------------------------------------------------------------------------*/

    /**
     * Creates a debounced function that delays invoking `func` until after `wait`
     * milliseconds have elapsed since the last time the debounced function was
     * invoked. The debounced function comes with a `cancel` method to cancel
     * delayed `func` invocations and a `flush` method to immediately invoke them.
     * Provide `options` to indicate whether `func` should be invoked on the
     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked
     * with the last arguments provided to the debounced function. Subsequent
     * calls to the debounced function return the result of the last `func`
     * invocation.
     *
     * **Note:** If `leading` and `trailing` options are `true`, `func` is
     * invoked on the trailing edge of the timeout only if the debounced function
     * is invoked more than once during the `wait` timeout.
     *
     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
     * until to the next tick, similar to `setTimeout` with a timeout of `0`.
     *
     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
     * for details over the differences between `_.debounce` and `_.throttle`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {Function} func The function to debounce.
     * @param {number} [wait=0] The number of milliseconds to delay.
     * @param {Object} [options={}] The options object.
     * @param {boolean} [options.leading=false]
     *  Specify invoking on the leading edge of the timeout.
     * @param {number} [options.maxWait]
     *  The maximum time `func` is allowed to be delayed before it's invoked.
     * @param {boolean} [options.trailing=true]
     *  Specify invoking on the trailing edge of the timeout.
     * @returns {Function} Returns the new debounced function.
     * @example
     *
     * // Avoid costly calculations while the window size is in flux.
     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));
     *
     * // Invoke `sendMail` when clicked, debouncing subsequent calls.
     * jQuery(element).on('click', _.debounce(sendMail, 300, {
     *   'leading': true,
     *   'trailing': false
     * }));
     *
     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.
     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });
     * var source = new EventSource('/stream');
     * jQuery(source).on('message', debounced);
     *
     * // Cancel the trailing debounced invocation.
     * jQuery(window).on('popstate', debounced.cancel);
     */
    function debounce(func, wait, options) {
        var lastArgs,
            lastThis,
            maxWait,
            result,
            timerId,
            lastCallTime,
            lastInvokeTime = 0,
            leading = false,
            maxing = false,
            trailing = true;

        if (typeof func != 'function') {
            throw new TypeError(FUNC_ERROR_TEXT);
        }
        wait = toNumber(wait) || 0;
        if (isObject(options)) {
            leading = !!options.leading;
            maxing = 'maxWait' in options;
            maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
            trailing = 'trailing' in options ? !!options.trailing : trailing;
        }

        function invokeFunc(time) {
            var args = lastArgs,
                thisArg = lastThis;

            lastArgs = lastThis = undefined;
            lastInvokeTime = time;
            result = func.apply(thisArg, args);
            return result;
        }

        function leadingEdge(time) {
            // Reset any `maxWait` timer.
            lastInvokeTime = time;
            // Start the timer for the trailing edge.
            timerId = setTimeout(timerExpired, wait);
            // Invoke the leading edge.
            return leading ? invokeFunc(time) : result;
        }

        function remainingWait(time) {
            var timeSinceLastCall = time - lastCallTime,
                timeSinceLastInvoke = time - lastInvokeTime,
                timeWaiting = wait - timeSinceLastCall;

            return maxing
                ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)
                : timeWaiting;
        }

        function shouldInvoke(time) {
            var timeSinceLastCall = time - lastCallTime,
                timeSinceLastInvoke = time - lastInvokeTime;

            // Either this is the first call, activity has stopped and we're at the
            // trailing edge, the system time has gone backwards and we're treating
            // it as the trailing edge, or we've hit the `maxWait` limit.
            return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||
                (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));
        }

        function timerExpired() {
            var time = now();
            if (shouldInvoke(time)) {
                return trailingEdge(time);
            }
            // Restart the timer.
            timerId = setTimeout(timerExpired, remainingWait(time));
        }

        function trailingEdge(time) {
            timerId = undefined;

            // Only invoke if we have `lastArgs` which means `func` has been
            // debounced at least once.
            if (trailing && lastArgs) {
                return invokeFunc(time);
            }
            lastArgs = lastThis = undefined;
            return result;
        }

        function cancel() {
            if (timerId !== undefined) {
                clearTimeout(timerId);
            }
            lastInvokeTime = 0;
            lastArgs = lastCallTime = lastThis = timerId = undefined;
        }

        function flush() {
            return timerId === undefined ? result : trailingEdge(now());
        }

        function debounced() {
            var time = now(),
                isInvoking = shouldInvoke(time);

            lastArgs = arguments;
            lastThis = this;
            lastCallTime = time;

            if (isInvoking) {
                if (timerId === undefined) {
                    return leadingEdge(lastCallTime);
                }
                if (maxing) {
                    // Handle invocations in a tight loop.
                    timerId = setTimeout(timerExpired, wait);
                    return invokeFunc(lastCallTime);
                }
            }
            if (timerId === undefined) {
                timerId = setTimeout(timerExpired, wait);
            }
            return result;
        }
        debounced.cancel = cancel;
        debounced.flush = flush;
        return debounced;
    }

    /**
     * Creates a throttled function that only invokes `func` at most once per
     * every `wait` milliseconds. The throttled function comes with a `cancel`
     * method to cancel delayed `func` invocations and a `flush` method to
     * immediately invoke them. Provide `options` to indicate whether `func`
     * should be invoked on the leading and/or trailing edge of the `wait`
     * timeout. The `func` is invoked with the last arguments provided to the
     * throttled function. Subsequent calls to the throttled function return the
     * result of the last `func` invocation.
     *
     * **Note:** If `leading` and `trailing` options are `true`, `func` is
     * invoked on the trailing edge of the timeout only if the throttled function
     * is invoked more than once during the `wait` timeout.
     *
     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
     * until to the next tick, similar to `setTimeout` with a timeout of `0`.
     *
     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
     * for details over the differences between `_.throttle` and `_.debounce`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {Function} func The function to throttle.
     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.
     * @param {Object} [options={}] The options object.
     * @param {boolean} [options.leading=true]
     *  Specify invoking on the leading edge of the timeout.
     * @param {boolean} [options.trailing=true]
     *  Specify invoking on the trailing edge of the timeout.
     * @returns {Function} Returns the new throttled function.
     * @example
     *
     * // Avoid excessively updating the position while scrolling.
     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));
     *
     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.
     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });
     * jQuery(element).on('click', throttled);
     *
     * // Cancel the trailing throttled invocation.
     * jQuery(window).on('popstate', throttled.cancel);
     */
    function throttle(func, wait, options) {
        var leading = true,
            trailing = true;

        if (typeof func != 'function') {
            throw new TypeError(FUNC_ERROR_TEXT);
        }
        if (isObject(options)) {
            leading = 'leading' in options ? !!options.leading : leading;
            trailing = 'trailing' in options ? !!options.trailing : trailing;
        }
        return debounce(func, wait, {
            'leading': leading,
            'maxWait': wait,
            'trailing': trailing
        });
    }

    /*------------------------------------------------------------------------*/

    /**
     * Checks if `value` is the
     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an object, else `false`.
     * @example
     *
     * _.isObject({});
     * // => true
     *
     * _.isObject([1, 2, 3]);
     * // => true
     *
     * _.isObject(_.noop);
     * // => true
     *
     * _.isObject(null);
     * // => false
     */
    function isObject(value) {
        var type = typeof value;
        return value != null && (type == 'object' || type == 'function');
    }

    /**
     * Checks if `value` is object-like. A value is object-like if it's not `null`
     * and has a `typeof` result of "object".
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
     * @example
     *
     * _.isObjectLike({});
     * // => true
     *
     * _.isObjectLike([1, 2, 3]);
     * // => true
     *
     * _.isObjectLike(_.noop);
     * // => false
     *
     * _.isObjectLike(null);
     * // => false
     */
    function isObjectLike(value) {
        return value != null && typeof value == 'object';
    }

    /**
     * Checks if `value` is classified as a `Symbol` primitive or object.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
     * @example
     *
     * _.isSymbol(Symbol.iterator);
     * // => true
     *
     * _.isSymbol('abc');
     * // => false
     */
    function isSymbol(value) {
        return typeof value == 'symbol' ||
            (isObjectLike(value) && baseGetTag(value) == symbolTag);
    }

    /**
     * Converts `value` to a number.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to process.
     * @returns {number} Returns the number.
     * @example
     *
     * _.toNumber(3.2);
     * // => 3.2
     *
     * _.toNumber(Number.MIN_VALUE);
     * // => 5e-324
     *
     * _.toNumber(Infinity);
     * // => Infinity
     *
     * _.toNumber('3.2');
     * // => 3.2
     */
    function toNumber(value) {
        if (typeof value == 'number') {
            return value;
        }
        if (isSymbol(value)) {
            return NAN;
        }
        if (isObject(value)) {
            var other = typeof value.valueOf == 'function' ? value.valueOf() : value;
            value = isObject(other) ? (other + '') : other;
        }
        if (typeof value != 'string') {
            return value === 0 ? value : +value;
        }
        value = value.replace(reTrim, '');
        var isBinary = reIsBinary.test(value);
        return (isBinary || reIsOctal.test(value))
            ? freeParseInt(value.slice(2), isBinary ? 2 : 8)
            : (reIsBadHex.test(value) ? NAN : +value);
    }

    /*------------------------------------------------------------------------*/

    // Add methods that return wrapped values in chain sequences.
    lodash.debounce = debounce;
    lodash.throttle = throttle;

    /*------------------------------------------------------------------------*/

    // Add methods that return unwrapped values in chain sequences.
    lodash.isObject = isObject;
    lodash.isObjectLike = isObjectLike;
    lodash.isSymbol = isSymbol;
    lodash.now = now;
    lodash.toNumber = toNumber;

    /*------------------------------------------------------------------------*/

    /**
     * The semantic version number.
     *
     * @static
     * @memberOf _
     * @type {string}
     */
    lodash.VERSION = VERSION;

    /*--------------------------------------------------------------------------*/

    // Some AMD build optimizers, like r.js, check for condition patterns like:
    if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {
        // Expose Lodash on the global object to prevent errors when Lodash is
        // loaded by a script tag in the presence of an AMD loader.
        // See http://requirejs.org/docs/errors.html#mismatch for more details.
        // Use `_.noConflict` to remove Lodash from the global object.
        root._ = lodash;

        // Define as an anonymous module so, through path mapping, it can be
        // referenced as the "underscore" module.
        define(function() {
            return lodash;
        });
    }
    // Check for `exports` after `define` in case a build optimizer adds it.
    else if (freeModule) {
        // Export for Node.js.
        (freeModule.exports = lodash)._ = lodash;
        // Export for CommonJS support.
        freeExports._ = lodash;
    }
    else {
        // Export to the global object.
        root._ = lodash;
    }
}.call(this));

// // moved to _src/lottie-animation/lottie.js in minified version
// // and use with getScript
//
// // https://raw.githubusercontent.com/airbnb/lottie-web/master/build/player/lottie.js
// // https://raw.githubusercontent.com/airbnb/lottie-web/master/build/player/lottie.min.js

// to show not min ver used in this project look in _blocks/_lottie/js-lib/_lottie.not-min.js

/**
 * --------------------------------------------------------------------------
 * Bootstrap (v4.0.0): util.js
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * --------------------------------------------------------------------------
 */
var Util = function ($) {
  /**
   * ------------------------------------------------------------------------
   * Private TransitionEnd Helpers
   * ------------------------------------------------------------------------
   */
  var transition = false;
  var MAX_UID = 1000000; // Shoutout AngusCroll (https://goo.gl/pxwQGp)

  function toType(obj) {
    return {}.toString.call(obj).match(/\s([a-zA-Z]+)/)[1].toLowerCase();
  }

  function getSpecialTransitionEndEvent() {
    return {
      bindType: transition.end,
      delegateType: transition.end,
      handle: function handle(event) {
        if ($(event.target).is(this)) {
          return event.handleObj.handler.apply(this, arguments); // eslint-disable-line prefer-rest-params
        }

        return undefined; // eslint-disable-line no-undefined
      }
    };
  }

  function transitionEndTest() {
    if (typeof window !== 'undefined' && window.QUnit) {
      return false;
    }

    return {
      end: 'transitionend'
    };
  }

  function transitionEndEmulator(duration) {
    var _this = this;

    var called = false;
    $(this).one(Util.TRANSITION_END, function () {
      called = true;
    });
    setTimeout(function () {
      if (!called) {
        Util.triggerTransitionEnd(_this);
      }
    }, duration);
    return this;
  }

  function setTransitionEndSupport() {
    transition = transitionEndTest();
    $.fn.emulateTransitionEnd = transitionEndEmulator;

    if (Util.supportsTransitionEnd()) {
      $.event.special[Util.TRANSITION_END] = getSpecialTransitionEndEvent();
    }
  }

  function escapeId(selector) {
    // We escape IDs in case of special selectors (selector = '#myId:something')
    // $.escapeSelector does not exist in jQuery < 3
    selector = typeof $.escapeSelector === 'function' ? $.escapeSelector(selector).substr(1) : selector.replace(/(:|\.|\[|\]|,|=|@)/g, '\\$1');
    return selector;
  }
  /**
   * --------------------------------------------------------------------------
   * Public Util Api
   * --------------------------------------------------------------------------
   */


  var Util = {
    TRANSITION_END: 'bsTransitionEnd',
    getUID: function getUID(prefix) {
      do {
        // eslint-disable-next-line no-bitwise
        prefix += ~~(Math.random() * MAX_UID); // "~~" acts like a faster Math.floor() here
      } while (document.getElementById(prefix));

      return prefix;
    },
    getSelectorFromElement: function getSelectorFromElement(element) {
      var selector = element.getAttribute('data-target');

      if (!selector || selector === '#') {
        selector = element.getAttribute('href') || '';
      } // If it's an ID


      if (selector.charAt(0) === '#') {
        selector = escapeId(selector);
      }

      try {
        var $selector = $(document).find(selector);
        return $selector.length > 0 ? selector : null;
      } catch (err) {
        return null;
      }
    },
    reflow: function reflow(element) {
      return element.offsetHeight;
    },
    triggerTransitionEnd: function triggerTransitionEnd(element) {
      $(element).trigger(transition.end);
    },
    supportsTransitionEnd: function supportsTransitionEnd() {
      return Boolean(transition);
    },
    isElement: function isElement(obj) {
      return (obj[0] || obj).nodeType;
    },
    typeCheckConfig: function typeCheckConfig(componentName, config, configTypes) {
      for (var property in configTypes) {
        if (Object.prototype.hasOwnProperty.call(configTypes, property)) {
          var expectedTypes = configTypes[property];
          var value = config[property];
          var valueType = value && Util.isElement(value) ? 'element' : toType(value);

          if (!new RegExp(expectedTypes).test(valueType)) {
            throw new Error(componentName.toUpperCase() + ": " + ("Option \"" + property + "\" provided type \"" + valueType + "\" ") + ("but expected type \"" + expectedTypes + "\"."));
          }
        }
      }
    }
  };
  setTransitionEndSupport();
  return Util;
}($);
//# sourceMappingURL=util.js.map
function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

/**
 * --------------------------------------------------------------------------
 * Bootstrap (v4.0.0): modal.js
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * --------------------------------------------------------------------------
 */
var Modal = function ($) {
  /**
   * ------------------------------------------------------------------------
   * Constants
   * ------------------------------------------------------------------------
   */
  var NAME = 'modal';
  var VERSION = '4.0.0';
  var DATA_KEY = 'bs.modal';
  var EVENT_KEY = "." + DATA_KEY;
  var DATA_API_KEY = '.data-api';
  var JQUERY_NO_CONFLICT = $.fn[NAME];
  var TRANSITION_DURATION = 300;
  var BACKDROP_TRANSITION_DURATION = 150;
  var ESCAPE_KEYCODE = 27; // KeyboardEvent.which value for Escape (Esc) key

  var Default = {
    backdrop: true,
    keyboard: true,
    focus: true,
    show: true
  };
  var DefaultType = {
    backdrop: '(boolean|string)',
    keyboard: 'boolean',
    focus: 'boolean',
    show: 'boolean'
  };
  var Event = {
    HIDE: "hide" + EVENT_KEY,
    HIDDEN: "hidden" + EVENT_KEY,
    SHOW: "show" + EVENT_KEY,
    SHOWN: "shown" + EVENT_KEY,
    FOCUSIN: "focusin" + EVENT_KEY,
    RESIZE: "resize" + EVENT_KEY,
    CLICK_DISMISS: "click.dismiss" + EVENT_KEY,
    KEYDOWN_DISMISS: "keydown.dismiss" + EVENT_KEY,
    MOUSEUP_DISMISS: "mouseup.dismiss" + EVENT_KEY,
    MOUSEDOWN_DISMISS: "mousedown.dismiss" + EVENT_KEY,
    CLICK_DATA_API: "click" + EVENT_KEY + DATA_API_KEY
  };
  var ClassName = {
    SCROLLBAR_MEASURER: 'modal-scrollbar-measure',
    BACKDROP: 'modal-backdrop',
    OPEN: 'modal-open',
    FADE: 'fade',
    SHOW: 'show'
  };
  var Selector = {
    DIALOG: '.modal-dialog',
    DATA_TOGGLE: '[data-toggle="modal"]',
    DATA_DISMISS: '[data-dismiss="modal"]',
    FIXED_CONTENT: '.fixed-top, .fixed-bottom, .is-fixed, .sticky-top',
    STICKY_CONTENT: '.sticky-top',
    NAVBAR_TOGGLER: '.navbar-toggler'
    /**
     * ------------------------------------------------------------------------
     * Class Definition
     * ------------------------------------------------------------------------
     */

  };

  var Modal =
  /*#__PURE__*/
  function () {
    function Modal(element, config) {
      this._config = this._getConfig(config);
      this._element = element;
      this._dialog = $(element).find(Selector.DIALOG)[0];
      this._backdrop = null;
      this._isShown = false;
      this._isBodyOverflowing = false;
      this._ignoreBackdropClick = false;
      this._originalBodyPadding = 0;
      this._scrollbarWidth = 0;
    } // Getters


    var _proto = Modal.prototype;

    // Public
    _proto.toggle = function toggle(relatedTarget) {
      return this._isShown ? this.hide() : this.show(relatedTarget);
    };

    _proto.show = function show(relatedTarget) {
      var _this = this;

      if (this._isTransitioning || this._isShown) {
        return;
      }

      if (Util.supportsTransitionEnd() && $(this._element).hasClass(ClassName.FADE)) {
        this._isTransitioning = true;
      }

      var showEvent = $.Event(Event.SHOW, {
        relatedTarget: relatedTarget
      });
      $(this._element).trigger(showEvent);

      if (this._isShown || showEvent.isDefaultPrevented()) {
        return;
      }

      this._isShown = true;

      this._checkScrollbar();

      this._setScrollbar();

      this._adjustDialog();

      $(document.body).addClass(ClassName.OPEN);

      this._setEscapeEvent();

      this._setResizeEvent();

      $(this._element).on(Event.CLICK_DISMISS, Selector.DATA_DISMISS, function (event) {
        return _this.hide(event);
      });
      $(this._dialog).on(Event.MOUSEDOWN_DISMISS, function () {
        $(_this._element).one(Event.MOUSEUP_DISMISS, function (event) {
          if ($(event.target).is(_this._element)) {
            _this._ignoreBackdropClick = true;
          }
        });
      });

      this._showBackdrop(function () {
        return _this._showElement(relatedTarget);
      });
    };

    _proto.hide = function hide(event) {
      var _this2 = this;

      if (event) {
        event.preventDefault();
      }

      if (this._isTransitioning || !this._isShown) {
        return;
      }

      var hideEvent = $.Event(Event.HIDE);
      $(this._element).trigger(hideEvent);

      if (!this._isShown || hideEvent.isDefaultPrevented()) {
        return;
      }

      this._isShown = false;
      var transition = Util.supportsTransitionEnd() && $(this._element).hasClass(ClassName.FADE);

      if (transition) {
        this._isTransitioning = true;
      }

      this._setEscapeEvent();

      this._setResizeEvent();

      $(document).off(Event.FOCUSIN);
      $(this._element).removeClass(ClassName.SHOW);
      $(this._element).off(Event.CLICK_DISMISS);
      $(this._dialog).off(Event.MOUSEDOWN_DISMISS);

      if (transition) {
        $(this._element).one(Util.TRANSITION_END, function (event) {
          return _this2._hideModal(event);
        }).emulateTransitionEnd(TRANSITION_DURATION);
      } else {
        this._hideModal();
      }
    };

    _proto.dispose = function dispose() {
      $.removeData(this._element, DATA_KEY);
      $(window, document, this._element, this._backdrop).off(EVENT_KEY);
      this._config = null;
      this._element = null;
      this._dialog = null;
      this._backdrop = null;
      this._isShown = null;
      this._isBodyOverflowing = null;
      this._ignoreBackdropClick = null;
      this._scrollbarWidth = null;
    };

    _proto.handleUpdate = function handleUpdate() {
      this._adjustDialog();
    }; // Private


    _proto._getConfig = function _getConfig(config) {
      config = _extends({}, Default, config);
      Util.typeCheckConfig(NAME, config, DefaultType);
      return config;
    };

    _proto._showElement = function _showElement(relatedTarget) {
      var _this3 = this;

      var transition = Util.supportsTransitionEnd() && $(this._element).hasClass(ClassName.FADE);

      if (!this._element.parentNode || this._element.parentNode.nodeType !== Node.ELEMENT_NODE) {
        // Don't move modal's DOM position
        document.body.appendChild(this._element);
      }

      this._element.style.display = 'block';

      this._element.removeAttribute('aria-hidden');

      this._element.scrollTop = 0;

      if (transition) {
        Util.reflow(this._element);
      }

      $(this._element).addClass(ClassName.SHOW);

      if (this._config.focus) {
        this._enforceFocus();
      }

      var shownEvent = $.Event(Event.SHOWN, {
        relatedTarget: relatedTarget
      });

      var transitionComplete = function transitionComplete() {
        if (_this3._config.focus) {
          _this3._element.focus();
        }

        _this3._isTransitioning = false;
        $(_this3._element).trigger(shownEvent);
      };

      if (transition) {
        $(this._dialog).one(Util.TRANSITION_END, transitionComplete).emulateTransitionEnd(TRANSITION_DURATION);
      } else {
        transitionComplete();
      }
    };

    _proto._enforceFocus = function _enforceFocus() {
      var _this4 = this;

      $(document).off(Event.FOCUSIN) // Guard against infinite focus loop
      .on(Event.FOCUSIN, function (event) {
        if (document !== event.target && _this4._element !== event.target && $(_this4._element).has(event.target).length === 0) {
          _this4._element.focus();
        }
      });
    };

    _proto._setEscapeEvent = function _setEscapeEvent() {
      var _this5 = this;

      if (this._isShown && this._config.keyboard) {
        $(this._element).on(Event.KEYDOWN_DISMISS, function (event) {
          if (event.which === ESCAPE_KEYCODE) {
            event.preventDefault();

            _this5.hide();
          }
        });
      } else if (!this._isShown) {
        $(this._element).off(Event.KEYDOWN_DISMISS);
      }
    };

    _proto._setResizeEvent = function _setResizeEvent() {
      var _this6 = this;

      if (this._isShown) {
        $(window).on(Event.RESIZE, function (event) {
          return _this6.handleUpdate(event);
        });
      } else {
        $(window).off(Event.RESIZE);
      }
    };

    _proto._hideModal = function _hideModal() {
      var _this7 = this;

      this._element.style.display = 'none';

      this._element.setAttribute('aria-hidden', true);

      this._isTransitioning = false;

      this._showBackdrop(function () {
        $(document.body).removeClass(ClassName.OPEN);

        _this7._resetAdjustments();

        _this7._resetScrollbar();

        $(_this7._element).trigger(Event.HIDDEN);
      });
    };

    _proto._removeBackdrop = function _removeBackdrop() {
      if (this._backdrop) {
        $(this._backdrop).remove();
        this._backdrop = null;
      }
    };

    _proto._showBackdrop = function _showBackdrop(callback) {
      var _this8 = this;

      var animate = $(this._element).hasClass(ClassName.FADE) ? ClassName.FADE : '';

      if (this._isShown && this._config.backdrop) {
        var doAnimate = Util.supportsTransitionEnd() && animate;
        this._backdrop = document.createElement('div');
        this._backdrop.className = ClassName.BACKDROP;

        if (animate) {
          $(this._backdrop).addClass(animate);
        }

        $(this._backdrop).appendTo(document.body);
        $(this._element).on(Event.CLICK_DISMISS, function (event) {
          if (_this8._ignoreBackdropClick) {
            _this8._ignoreBackdropClick = false;
            return;
          }

          if (event.target !== event.currentTarget) {
            return;
          }

          if (_this8._config.backdrop === 'static') {
            _this8._element.focus();
          } else {
            _this8.hide();
          }
        });

        if (doAnimate) {
          Util.reflow(this._backdrop);
        }

        $(this._backdrop).addClass(ClassName.SHOW);

        if (!callback) {
          return;
        }

        if (!doAnimate) {
          callback();
          return;
        }

        $(this._backdrop).one(Util.TRANSITION_END, callback).emulateTransitionEnd(BACKDROP_TRANSITION_DURATION);
      } else if (!this._isShown && this._backdrop) {
        $(this._backdrop).removeClass(ClassName.SHOW);

        var callbackRemove = function callbackRemove() {
          _this8._removeBackdrop();

          if (callback) {
            callback();
          }
        };

        if (Util.supportsTransitionEnd() && $(this._element).hasClass(ClassName.FADE)) {
          $(this._backdrop).one(Util.TRANSITION_END, callbackRemove).emulateTransitionEnd(BACKDROP_TRANSITION_DURATION);
        } else {
          callbackRemove();
        }
      } else if (callback) {
        callback();
      }
    }; // ----------------------------------------------------------------------
    // the following methods are used to handle overflowing modals
    // todo (fat): these should probably be refactored out of modal.js
    // ----------------------------------------------------------------------


    _proto._adjustDialog = function _adjustDialog() {
      var isModalOverflowing = this._element.scrollHeight > document.documentElement.clientHeight;

      if (!this._isBodyOverflowing && isModalOverflowing) {
        this._element.style.paddingLeft = this._scrollbarWidth + "px";
      }

      if (this._isBodyOverflowing && !isModalOverflowing) {
        this._element.style.paddingRight = this._scrollbarWidth + "px";
      }
    };

    _proto._resetAdjustments = function _resetAdjustments() {
      this._element.style.paddingLeft = '';
      this._element.style.paddingRight = '';
    };

    _proto._checkScrollbar = function _checkScrollbar() {
      var rect = document.body.getBoundingClientRect();
      this._isBodyOverflowing = rect.left + rect.right < window.innerWidth;
      this._scrollbarWidth = this._getScrollbarWidth();
    };

    _proto._setScrollbar = function _setScrollbar() {
      var _this9 = this;

      if (this._isBodyOverflowing) {
        // Note: DOMNode.style.paddingRight returns the actual value or '' if not set
        //   while $(DOMNode).css('padding-right') returns the calculated value or 0 if not set
        // Adjust fixed content padding
        $(Selector.FIXED_CONTENT).each(function (index, element) {
          var actualPadding = $(element)[0].style.paddingRight;
          var calculatedPadding = $(element).css('padding-right');
          $(element).data('padding-right', actualPadding).css('padding-right', parseFloat(calculatedPadding) + _this9._scrollbarWidth + "px");
        }); // Adjust sticky content margin

        $(Selector.STICKY_CONTENT).each(function (index, element) {
          var actualMargin = $(element)[0].style.marginRight;
          var calculatedMargin = $(element).css('margin-right');
          $(element).data('margin-right', actualMargin).css('margin-right', parseFloat(calculatedMargin) - _this9._scrollbarWidth + "px");
        }); // Adjust navbar-toggler margin

        $(Selector.NAVBAR_TOGGLER).each(function (index, element) {
          var actualMargin = $(element)[0].style.marginRight;
          var calculatedMargin = $(element).css('margin-right');
          $(element).data('margin-right', actualMargin).css('margin-right', parseFloat(calculatedMargin) + _this9._scrollbarWidth + "px");
        }); // Adjust body padding

        var actualPadding = document.body.style.paddingRight;
        var calculatedPadding = $('body').css('padding-right');
        $('body').data('padding-right', actualPadding).css('padding-right', parseFloat(calculatedPadding) + this._scrollbarWidth + "px");
      }
    };

    _proto._resetScrollbar = function _resetScrollbar() {
      // Restore fixed content padding
      $(Selector.FIXED_CONTENT).each(function (index, element) {
        var padding = $(element).data('padding-right');

        if (typeof padding !== 'undefined') {
          $(element).css('padding-right', padding).removeData('padding-right');
        }
      }); // Restore sticky content and navbar-toggler margin

      $(Selector.STICKY_CONTENT + ", " + Selector.NAVBAR_TOGGLER).each(function (index, element) {
        var margin = $(element).data('margin-right');

        if (typeof margin !== 'undefined') {
          $(element).css('margin-right', margin).removeData('margin-right');
        }
      }); // Restore body padding

      var padding = $('body').data('padding-right');

      if (typeof padding !== 'undefined') {
        $('body').css('padding-right', padding).removeData('padding-right');
      }
    };

    _proto._getScrollbarWidth = function _getScrollbarWidth() {
      // thx d.walsh
      var scrollDiv = document.createElement('div');
      scrollDiv.className = ClassName.SCROLLBAR_MEASURER;
      document.body.appendChild(scrollDiv);
      var scrollbarWidth = scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth;
      document.body.removeChild(scrollDiv);
      return scrollbarWidth;
    }; // Static


    Modal._jQueryInterface = function _jQueryInterface(config, relatedTarget) {
      return this.each(function () {
        var data = $(this).data(DATA_KEY);

        var _config = _extends({}, Modal.Default, $(this).data(), typeof config === 'object' && config);

        if (!data) {
          data = new Modal(this, _config);
          $(this).data(DATA_KEY, data);
        }

        if (typeof config === 'string') {
          if (typeof data[config] === 'undefined') {
            throw new TypeError("No method named \"" + config + "\"");
          }

          data[config](relatedTarget);
        } else if (_config.show) {
          data.show(relatedTarget);
        }
      });
    };

    _createClass(Modal, null, [{
      key: "VERSION",
      get: function get() {
        return VERSION;
      }
    }, {
      key: "Default",
      get: function get() {
        return Default;
      }
    }]);

    return Modal;
  }();
  /**
   * ------------------------------------------------------------------------
   * Data Api implementation
   * ------------------------------------------------------------------------
   */


  $(document).on(Event.CLICK_DATA_API, Selector.DATA_TOGGLE, function (event) {
    var _this10 = this;

    var target;
    var selector = Util.getSelectorFromElement(this);

    if (selector) {
      target = $(selector)[0];
    }

    var config = $(target).data(DATA_KEY) ? 'toggle' : _extends({}, $(target).data(), $(this).data());

    if (this.tagName === 'A' || this.tagName === 'AREA') {
      event.preventDefault();
    }

    var $target = $(target).one(Event.SHOW, function (showEvent) {
      if (showEvent.isDefaultPrevented()) {
        // Only register focus restorer if modal will actually get shown
        return;
      }

      $target.one(Event.HIDDEN, function () {
        if ($(_this10).is(':visible')) {
          _this10.focus();
        }
      });
    });

    Modal._jQueryInterface.call($(target), config, this);
  });
  /**
   * ------------------------------------------------------------------------
   * jQuery
   * ------------------------------------------------------------------------
   */

  $.fn[NAME] = Modal._jQueryInterface;
  $.fn[NAME].Constructor = Modal;

  $.fn[NAME].noConflict = function () {
    $.fn[NAME] = JQUERY_NO_CONFLICT;
    return Modal._jQueryInterface;
  };

  return Modal;
}($);
//# sourceMappingURL=modal.js.map

/* npm.im/object-fit-images 3.2.3 */
var objectFitImages=function(){"use strict";function t(t,e){return"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+t+"' height='"+e+"'%3E%3C/svg%3E"}function e(t){if(t.srcset&&!m&&window.picturefill){var e=window.picturefill._;t[e.ns]&&t[e.ns].evaled||e.fillImg(t,{reselect:!0}),t[e.ns].curSrc||(t[e.ns].supported=!1,e.fillImg(t,{reselect:!0})),t.currentSrc=t[e.ns].curSrc||t.src}}function i(t){for(var e,i=getComputedStyle(t).fontFamily,r={};null!==(e=l.exec(i));)r[e[1]]=e[2];return r}function r(e,i,r){var n=t(i||1,r||0);p.call(e,"src")!==n&&b.call(e,"src",n)}function n(t,e){t.naturalWidth?e(t):setTimeout(n,100,t,e)}function c(t){var c=i(t),o=t[a];if(c["object-fit"]=c["object-fit"]||"fill",!o.img){if("fill"===c["object-fit"])return;if(!o.skipTest&&g&&!c["object-position"])return}if(!o.img){o.img=new Image(t.width,t.height),o.img.srcset=p.call(t,"data-ofi-srcset")||t.srcset,o.img.src=p.call(t,"data-ofi-src")||t.src,b.call(t,"data-ofi-src",t.src),t.srcset&&b.call(t,"data-ofi-srcset",t.srcset),r(t,t.naturalWidth||t.width,t.naturalHeight||t.height),t.srcset&&(t.srcset="");try{s(t)}catch(t){window.console&&console.warn("https://bit.ly/ofi-old-browser")}}e(o.img),t.style.backgroundImage='url("'+(o.img.currentSrc||o.img.src).replace(/"/g,'\\"')+'")',t.style.backgroundPosition=c["object-position"]||"center",t.style.backgroundRepeat="no-repeat",t.style.backgroundOrigin="content-box",/scale-down/.test(c["object-fit"])?n(o.img,function(){o.img.naturalWidth>t.width||o.img.naturalHeight>t.height?t.style.backgroundSize="contain":t.style.backgroundSize="auto"}):t.style.backgroundSize=c["object-fit"].replace("none","auto").replace("fill","100% 100%"),n(o.img,function(e){r(t,e.naturalWidth,e.naturalHeight)})}function s(t){var e={get:function(e){return t[a].img[e||"src"]},set:function(e,i){return t[a].img[i||"src"]=e,b.call(t,"data-ofi-"+i,e),c(t),e}};Object.defineProperty(t,"src",e),Object.defineProperty(t,"currentSrc",{get:function(){return e.get("currentSrc")}}),Object.defineProperty(t,"srcset",{get:function(){return e.get("srcset")},set:function(t){return e.set(t,"srcset")}})}function o(t,e){var i=!h&&!t;if(e=e||{},t=t||"img",f&&!e.skipTest||!d)return!1;"img"===t?t=document.getElementsByTagName("img"):"string"==typeof t?t=document.querySelectorAll(t):"length"in t||(t=[t]);for(var r=0;r<t.length;r++)t[r][a]=t[r][a]||{skipTest:e.skipTest},c(t[r]);i&&(document.body.addEventListener("load",function(t){"IMG"===t.target.tagName&&o(t.target,{skipTest:e.skipTest})},!0),h=!0,t="img"),e.watchMQ&&window.addEventListener("resize",o.bind(null,t,{skipTest:e.skipTest}))}var a="bfred-it:object-fit-images",l=/(object-fit|object-position)\s*:\s*([-\w\s%]+)/g,u="undefined"==typeof Image?{style:{"object-position":1}}:new Image,g="object-fit"in u.style,f="object-position"in u.style,d="background-size"in u.style,m="string"==typeof u.currentSrc,p=u.getAttribute,b=u.setAttribute,h=!1;return o.supportsObjectFit=g,o.supportsObjectPosition=f,function(){function t(t,e){return t[a]&&t[a].img&&("src"===e||"srcset"===e)?t[a].img:t}f||(HTMLImageElement.prototype.getAttribute=function(e){return p.call(t(this,e),e)},HTMLImageElement.prototype.setAttribute=function(e,i){return b.call(t(this,e),e,String(i))})}(),o}();

/*! @vimeo/player v2.12.0 | (c) 2020 Vimeo | MIT License | https://github.com/vimeo/player.js */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):((e=e||self).Vimeo=e.Vimeo||{},e.Vimeo.Player=t())}(this,function(){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var e="undefined"!=typeof global&&"[object global]"==={}.toString.call(global);function i(e,t){return 0===e.indexOf(t.toLowerCase())?e:"".concat(t.toLowerCase()).concat(e.substr(0,1).toUpperCase()).concat(e.substr(1))}function s(e){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(e)}function o(e){var t,n=0<arguments.length&&void 0!==e?e:{},r=n.id,o=n.url,i=r||o;if(!i)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(t=i,!isNaN(parseFloat(t))&&isFinite(t)&&Math.floor(t)==t)return"https://vimeo.com/".concat(i);if(s(i))return i.replace("http:","https:");if(r)throw new TypeError("“".concat(r,"” is not a valid video id."));throw new TypeError("“".concat(i,"” is not a vimeo.com url."))}var t=void 0!==Array.prototype.indexOf,n="undefined"!=typeof window&&void 0!==window.postMessage;if(!(e||t&&n))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};!function(e){if(!e.WeakMap){var n=Object.prototype.hasOwnProperty,r=function(e,t,n){Object.defineProperty?Object.defineProperty(e,t,{configurable:!0,writable:!0,value:n}):e[t]=n};e.WeakMap=(r(t.prototype,"delete",function(e){if(o(this,"delete"),!a(e))return!1;var t=e[this._id];return!(!t||t[0]!==e||(delete e[this._id],0))}),r(t.prototype,"get",function(e){if(o(this,"get"),a(e)){var t=e[this._id];return t&&t[0]===e?t[1]:void 0}}),r(t.prototype,"has",function(e){if(o(this,"has"),!a(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)}),r(t.prototype,"set",function(e,t){if(o(this,"set"),!a(e))throw new TypeError("Invalid value used as weak map key");var n=e[this._id];return n&&n[0]===e?n[1]=t:r(e,this._id,[e,t]),this}),r(t,"_polyfill",!0),t)}function t(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(r(this,"_id","_WeakMap"+"_"+i()+"."+i()),0<arguments.length)throw new TypeError("WeakMap iterable is not supported")}function o(e,t){if(!a(e)||!n.call(e,"_id"))throw new TypeError(t+" method called on incompatible receiver "+typeof e)}function i(){return Math.random().toString().substring(2)}function a(e){return Object(e)===e}}("undefined"!=typeof self?self:"undefined"!=typeof window?window:a);var u,l=(function(e){var t,n,r;r=function(){var t,n,r,o,i,a,e=Object.prototype.toString,u="undefined"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},"x",{}),t=function(e,t,n,r){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==r})}}catch(e){t=function(e,t,n){return e[t]=n,e}}function c(e,t){this.fn=e,this.self=t,this.next=void 0}function s(e,t){r.add(e,t),n=n||u(r.drain)}function l(e){var t,n=typeof e;return null==e||"object"!=n&&"function"!=n||(t=e.then),"function"==typeof t&&t}function f(){for(var e=0;e<this.chain.length;e++)d(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function d(e,t,n){var r,o;try{!1===t?n.reject(e.msg):(r=!0===t?e.msg:t.call(void 0,e.msg))===n.promise?n.reject(TypeError("Promise-chain cycle")):(o=l(r))?o.call(r,n.resolve,n.reject):n.resolve(r)}catch(e){n.reject(e)}}function h(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,0<t.chain.length&&s(f,t))}function v(e,n,r,o){for(var t=0;t<n.length;t++)!function(t){e.resolve(n[t]).then(function(e){r(t,e)},o)}(t)}function p(e){this.def=e,this.triggered=!1}function y(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function m(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var r=new y(this);this.then=function(e,t){var n={success:"function"!=typeof e||e,failure:"function"==typeof t&&t};return n.promise=new this.constructor(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");n.resolve=e,n.reject=t}),r.chain.push(n),0!==r.state&&s(f,r),n.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,function(e){(function e(n){var r,o=this;if(!o.triggered){o.triggered=!0,o.def&&(o=o.def);try{(r=l(n))?s(function(){var t=new p(o);try{r.call(n,function(){e.apply(t,arguments)},function(){h.apply(t,arguments)})}catch(e){h.call(t,e)}}):(o.msg=n,o.state=1,0<o.chain.length&&s(f,o))}catch(e){h.call(new p(o),e)}}}).call(r,e)},function(e){h.call(r,e)})}catch(e){h.call(r,e)}}var g=t({},"constructor",m,!(r={add:function(e,t){a=new c(e,t),i?i.next=a:o=a,i=a,a=void 0},drain:function(){var e=o;for(o=i=n=void 0;e;)e.fn.call(e.self),e=e.next}}));return t(m.prototype=g,"__NPO__",0,!1),t(m,"resolve",function(n){return n&&"object"==typeof n&&1===n.__NPO__?n:new this(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");e(n)})}),t(m,"reject",function(n){return new this(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");t(n)})}),t(m,"all",function(t){var a=this;return"[object Array]"!=e.call(t)?a.reject(TypeError("Not an array")):0===t.length?a.resolve([]):new a(function(n,e){if("function"!=typeof n||"function"!=typeof e)throw TypeError("Not a function");var r=t.length,o=Array(r),i=0;v(a,t,function(e,t){o[e]=t,++i===r&&n(o)},e)})}),t(m,"race",function(t){var r=this;return"[object Array]"!=e.call(t)?r.reject(TypeError("Not an array")):new r(function(n,e){if("function"!=typeof n||"function"!=typeof e)throw TypeError("Not a function");v(r,t,function(e,t){n(t)},e)})}),m},(n=a)[t="Promise"]=n[t]||r(),e.exports&&(e.exports=n[t])}(u={exports:{}},u.exports),u.exports),f=new WeakMap;function c(e,t,n){var r=f.get(e.element)||{};t in r||(r[t]=[]),r[t].push(n),f.set(e.element,r)}function d(e,t){return(f.get(e.element)||{})[t]||[]}function h(e,t,n){var r=f.get(e.element)||{};if(!r[t])return!0;if(!n)return r[t]=[],f.set(e.element,r),!0;var o=r[t].indexOf(n);return-1!==o&&r[t].splice(o,1),f.set(e.element,r),r[t]&&0===r[t].length}var v=["autopause","autoplay","background","byline","color","controls","dnt","height","id","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"];function p(r,e){var t=1<arguments.length&&void 0!==e?e:{};return v.reduce(function(e,t){var n=r.getAttribute("data-vimeo-".concat(t));return!n&&""!==n||(e[t]=""===n?1:n),e},t)}function y(e,t){var n=e.html;if(!t)throw new TypeError("An element must be provided");if(null!==t.getAttribute("data-vimeo-initialized"))return t.querySelector("iframe");var r=document.createElement("div");return r.innerHTML=n,t.appendChild(r.firstChild),t.setAttribute("data-vimeo-initialized","true"),t.querySelector("iframe")}function m(i,e,t){var a=1<arguments.length&&void 0!==e?e:{},u=2<arguments.length?t:void 0;return new Promise(function(t,n){if(!s(i))throw new TypeError("“".concat(i,"” is not a vimeo.com url."));var e="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(i));for(var r in a)a.hasOwnProperty(r)&&(e+="&".concat(r,"=").concat(encodeURIComponent(a[r])));var o=new("XDomainRequest"in window?XDomainRequest:XMLHttpRequest);o.open("GET",e,!0),o.onload=function(){if(404!==o.status)if(403!==o.status)try{var e=JSON.parse(o.responseText);if(403===e.domain_status_code)return y(e,u),void n(new Error("“".concat(i,"” is not embeddable.")));t(e)}catch(e){n(e)}else n(new Error("“".concat(i,"” is not embeddable.")));else n(new Error("“".concat(i,"” was not found.")))},o.onerror=function(){var e=o.status?" (".concat(o.status,")"):"";n(new Error("There was an error fetching the embed code from Vimeo".concat(e,".")))},o.send()})}function g(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return console.warn(e),{}}return e}function w(e,t,n){if(e.element.contentWindow&&e.element.contentWindow.postMessage){var r={method:t};void 0!==n&&(r.value=n);var o=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));8<=o&&o<10&&(r=JSON.stringify(r)),e.element.contentWindow.postMessage(r,e.origin)}}function b(n,r){var t,e=[];if((r=g(r)).event){if("error"===r.event)d(n,r.data.method).forEach(function(e){var t=new Error(r.data.message);t.name=r.data.name,e.reject(t),h(n,r.data.method,e)});e=d(n,"event:".concat(r.event)),t=r.data}else if(r.method){var o=function(e,t){var n=d(e,t);if(n.length<1)return!1;var r=n.shift();return h(e,t,r),r}(n,r.method);o&&(e.push(o),t=r.value)}e.forEach(function(e){try{if("function"==typeof e)return void e.call(n,t);e.resolve(t)}catch(e){}})}var k=new WeakMap,E=new WeakMap,Player=function(){function Player(u){var e,c=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Player),window.jQuery&&u instanceof jQuery&&(1<u.length&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),u=u[0]),"undefined"!=typeof document&&"string"==typeof u&&(u=document.getElementById(u)),e=u,!Boolean(e&&1===e.nodeType&&"nodeName"in e&&e.ownerDocument&&e.ownerDocument.defaultView))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"!==u.nodeName){var n=u.querySelector("iframe");n&&(u=n)}if("IFRAME"===u.nodeName&&!s(u.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(k.has(u))return k.get(u);this._window=u.ownerDocument.defaultView,this.element=u,this.origin="*";var r=new l(function(i,a){if(c._onMessage=function(e){if(s(e.origin)&&c.element.contentWindow===e.source){"*"===c.origin&&(c.origin=e.origin);var t=g(e.data);if(t&&"error"===t.event&&t.data&&"ready"===t.data.method){var n=new Error(t.data.message);return n.name=t.data.name,void a(n)}var r=t&&"ready"===t.event,o=t&&"ping"===t.method;if(r||o)return c.element.setAttribute("data-ready","true"),void i();b(c,t)}},c._window.addEventListener("message",c._onMessage),"IFRAME"!==c.element.nodeName){var e=p(u,t);m(o(e),e,u).then(function(e){var t,n,r,o=y(e,u);return c.element=o,c._originalElement=u,t=u,n=o,r=f.get(t),f.set(n,r),f.delete(t),k.set(c.element,c),e}).catch(a)}});return E.set(this,r),k.set(this.element,this),"IFRAME"===this.element.nodeName&&w(this,"ping"),this}var e,t,n;return e=Player,(t=[{key:"callMethod",value:function(n,e){var r=this,o=1<arguments.length&&void 0!==e?e:{};return new l(function(e,t){return r.ready().then(function(){c(r,n,{resolve:e,reject:t}),w(r,n,o)}).catch(t)})}},{key:"get",value:function(n){var r=this;return new l(function(e,t){return n=i(n,"get"),r.ready().then(function(){c(r,n,{resolve:e,reject:t}),w(r,n)}).catch(t)})}},{key:"set",value:function(n,r){var o=this;return new l(function(e,t){if(n=i(n,"set"),null==r)throw new TypeError("There must be a value to set.");return o.ready().then(function(){c(o,n,{resolve:e,reject:t}),w(o,n,r)}).catch(t)})}},{key:"on",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(!t)throw new TypeError("You must pass a callback function.");if("function"!=typeof t)throw new TypeError("The callback must be a function.");0===d(this,"event:".concat(e)).length&&this.callMethod("addEventListener",e).catch(function(){}),c(this,"event:".concat(e),t)}},{key:"off",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(t&&"function"!=typeof t)throw new TypeError("The callback must be a function.");h(this,"event:".concat(e),t)&&this.callMethod("removeEventListener",e).catch(function(e){})}},{key:"loadVideo",value:function(e){return this.callMethod("loadVideo",e)}},{key:"ready",value:function(){var e=E.get(this)||new l(function(e,t){t(new Error("Unknown player. Probably unloaded."))});return l.resolve(e)}},{key:"addCuePoint",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};return this.callMethod("addCuePoint",{time:e,data:n})}},{key:"removeCuePoint",value:function(e){return this.callMethod("removeCuePoint",e)}},{key:"enableTextTrack",value:function(e,t){if(!e)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:e,kind:t})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return this.get("fullscreen")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var t=this;return new l(function(e){E.delete(t),k.delete(t.element),t._originalElement&&(k.delete(t._originalElement),t._originalElement.removeAttribute("data-vimeo-initialized")),t.element&&"IFRAME"===t.element.nodeName&&t.element.parentNode&&t.element.parentNode.removeChild(t.element),t._window.removeEventListener("message",t._onMessage),e()})}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(e){return this.set("autopause",e)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(e){return this.set("color",e)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(e){return this.set("currentTime",e)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(e){return this.set("loop",e)}},{key:"setMuted",value:function(e){return this.set("muted",e)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(e){return this.set("playbackRate",e)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(e){return this.set("volume",e)}}])&&r(e.prototype,t),n&&r(e,n),Player}();return e||(function(e){function n(e){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(e))}var t=0<arguments.length&&void 0!==e?e:document;[].slice.call(t.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")).forEach(function(t){try{if(null!==t.getAttribute("data-vimeo-defer"))return;var e=p(t);m(o(e),e,t).then(function(e){return y(e,t)}).catch(n)}catch(e){n(e)}})}(),function(e){var r=0<arguments.length&&void 0!==e?e:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;window.addEventListener("message",function(e){if(s(e.origin)&&e.data&&"spacechange"===e.data.event)for(var t=r.querySelectorAll("iframe"),n=0;n<t.length;n++)if(t[n].contentWindow===e.source){t[n].parentElement.style.paddingBottom="".concat(e.data.data[0].bottom,"px");break}})}}()),Player});

/*!
 * @copyright Copyright (c) 2017 IcoMoon.io
 * @license   Licensed under MIT license
 *            See https://github.com/Keyamoon/svgxuse
 * @version   1.2.6
 */
(function(){if("undefined"!==typeof window&&window.addEventListener){var e=Object.create(null),l,d=function(){clearTimeout(l);l=setTimeout(n,100)},m=function(){},t=function(){window.addEventListener("resize",d,!1);window.addEventListener("orientationchange",d,!1);if(window.MutationObserver){var k=new MutationObserver(d);k.observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0});m=function(){try{k.disconnect(),window.removeEventListener("resize",d,!1),window.removeEventListener("orientationchange",
d,!1)}catch(v){}}}else document.documentElement.addEventListener("DOMSubtreeModified",d,!1),m=function(){document.documentElement.removeEventListener("DOMSubtreeModified",d,!1);window.removeEventListener("resize",d,!1);window.removeEventListener("orientationchange",d,!1)}},u=function(k){function e(a){if(void 0!==a.protocol)var c=a;else c=document.createElement("a"),c.href=a;return c.protocol.replace(/:/g,"")+c.host}if(window.XMLHttpRequest){var d=new XMLHttpRequest;var m=e(location);k=e(k);d=void 0===
d.withCredentials&&""!==k&&k!==m?XDomainRequest||void 0:XMLHttpRequest}return d};var n=function(){function d(){--q;0===q&&(m(),t())}function l(a){return function(){!0!==e[a.base]&&(a.useEl.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+a.hash),a.useEl.hasAttribute("href")&&a.useEl.setAttribute("href","#"+a.hash))}}function p(a){return function(){var c=document.body,b=document.createElement("x");a.onload=null;b.innerHTML=a.responseText;if(b=b.getElementsByTagName("svg")[0])b.setAttribute("aria-hidden",
"true"),b.style.position="absolute",b.style.width=0,b.style.height=0,b.style.overflow="hidden",c.insertBefore(b,c.firstChild);d()}}function n(a){return function(){a.onerror=null;a.ontimeout=null;d()}}var a,c,q=0;m();var f=document.getElementsByTagName("use");for(c=0;c<f.length;c+=1){try{var g=f[c].getBoundingClientRect()}catch(w){g=!1}var h=(a=f[c].getAttribute("href")||f[c].getAttributeNS("http://www.w3.org/1999/xlink","href")||f[c].getAttribute("xlink:href"))&&a.split?a.split("#"):["",""];var b=
h[0];h=h[1];var r=g&&0===g.left&&0===g.right&&0===g.top&&0===g.bottom;g&&0===g.width&&0===g.height&&!r?(f[c].hasAttribute("href")&&f[c].setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),b.length&&(a=e[b],!0!==a&&setTimeout(l({useEl:f[c],base:b,hash:h}),0),void 0===a&&(h=u(b),void 0!==h&&(a=new h,e[b]=a,a.onload=p(a),a.onerror=n(a),a.ontimeout=n(a),a.open("GET",b),a.send(),q+=1)))):r?b.length&&e[b]&&setTimeout(l({useEl:f[c],base:b,hash:h}),0):void 0===e[b]?e[b]=!0:e[b].onload&&(e[b].abort(),
delete e[b].onload,e[b]=!0)}f="";q+=1;d()};var p=function(){window.removeEventListener("load",p,!1);l=setTimeout(n,0)};"complete"!==document.readyState?window.addEventListener("load",p,!1):p()}})();



window.baseUrl = '/';
window.baseHTML = $('html');

$(function() {
    // todo подумать, какие функции можно сделать универсальными
    //  которые повторяются часто
    //  например:
    //  updateInfoAboutWindowSizes(); - обновляет в переменных
    //  window.windowWidth и window.windowHeight ширину и высоту вьюпорта
    //  при помощи BulkEventsHandler дальше используется как windowResizeHandler.addHandler(function(e) {});
    //  в любом другом блоке, не вызывая дополнительного вызова ивента resize для разных блоков
    
    // ===========================================================
    // обработчик события 'resize' во всем проекте
    // ===========================================================
    // - 1 - функция
    function updateInfoAboutWindowSizes() {
        window.windowWidth = $(window).outerWidth();
        window.windowHeight = $(window).outerHeight();
    
        // // debug
        // console.log('window outer width is: ' + window.windowWidth + ' px');
        // console.log('window outer height is: ' + window.windowHeight + ' px');
    }
    
    // - 2 - первый вызов
    updateInfoAboutWindowSizes();
    
    // - 3 - первый вызов в качестве обработчика
    var windowResizeHandler = new BulkEventsHandler(window, 'resize', [
        function() {
            updateInfoAboutWindowSizes();
        }
    ]);
    
    // // - 4 - пример повторного вызова при необходимости в другом блоке
    // windowResizeHandler.addHandler(function(e) {
    //
    //     if (windowWidth <= 767) {
    //         console.log('is mobile');
    //     }
    // });
    //
    // // - 5 - пример повторного вызова при необходимости в еще одном другом блоке
    // windowResizeHandler.addHandler(function(e) {
    //
    //     if (windowWidth >= 768) {
    //         console.log('is desktop');
    //     }
    // });
    
    // повторный вызов работает и внутри самозапускающихся функций типа
    // (function () {
    //
    // })();
    
    
    // ===========================================================
    // обработчик события 'scroll' во всем проекте
    // ===========================================================
    var windowScrollHandler = new BulkEventsHandler(window, 'scroll', [
        function () {
            // если нужно обновлять глобальные window переменные,
            // можно задать их изменение тут
            // например
            window.windowScrollTop = $(window).scrollTop();
            // debug
            //console.log(windowScrollTop);
        }
    ]);
    
    // обработчик массовых событий ( спасибо Илье Помазкину за пример реализации https://codepen.io/ilyapom/pen/BaoBroO )
    // зависимости  _.throttle троттлинг от lodash
    function BulkEventsHandler(eventTarget, eventName, handlers) {
        handlers = handlers || [];
    
        eventTarget.addEventListener(eventName, _.throttle(function (e) {
            //console.log("Event '" + eventName + "' was fired", e);
            var context = this;
            handlers.forEach(function(handler) {
                handler(e);
            });
        }, 300));
    
        this.addHandler = function(handler) {
            handlers.push(handler);
        };
    }
    
    
    // при необходимости раскомментировать
    // // ========================================================
    // // на десктопах убираем аттрибут href у ссылок
    // // с классом .js-href-mobile
    // // ========================================================
    //
    // if (!$('html').hasClass('mobile')) {
    //     $('.js-href-mobile').removeAttr('href');
    //     //$('[href^="tel:"]').removeAttr('href');
    // }
    //
    // // ========================================================
    // // utils
    // // update window outerWidth and outerHeight on window resize with throttle
    // // ========================================================
    
    
    
    
    
    // // Обработчик массовых событий от Ильи Помазкина
    // // https://codepen.io/ilyapom/pen/BaoBroO
    // function BulkEventsHandler(eventTarget, eventName, handlers) {
    //     handlers = handlers || [];
    //     eventTarget.addEventListener(eventName, function(e) {
    //         console.log("Event '" + eventName + "' was fired", e);
    //         var context = this;
    //         handlers.forEach(function(handler) {
    //             handler(e);
    //         });
    //     });
    //
    //     this.addHandler = function(handler) {
    //         handlers.push(handler);
    //     };
    // }
    //
    // var windowResizeHandler = new BulkEventsHandler(window, 'resize', [
    //     function(e) {
    //         console.log('first handler');
    //     }
    // ]);
    //
    // windowResizeHandler.addHandler(function(e) {
    //     console.log('second handler');
    // });
    //
    // windowResizeHandler.addHandler(function(e) {
    //     console.log('third handler');
    // });
    
    //-
    //-    ВНИМАНИЕ! Этот файл генерируется автоматически.
    //-    Любые изменения этого файла будут потеряны при следующей компиляции.
    //-    Любое изменение проекта без возможности компиляции ДОЛЬШЕ И ДОРОЖЕ в 2-5 раз.
    
    function contact() {
    
    //	var contactName = $('.contact__words-text p');
    
    //
    
    //	if (contactName.length > 0) {
    
    //
    
    //		var output = contactName.html();
    
    //		contactName.empty();
    
    //		output = output.split('');
    
    //
    
    //		var string = '';
    
    //		string = string + '<span class="word">';
    
    //		for (var a = 0; a < output.length; a++) {
    
    //			if (output[a] == ' ') {
    
    //				string = string + '</span><span class="contact__words-text__char">&nbsp;</span><span class="word">';
    
    //			} else {
    
    //				string = string + '<span class="contact__words-text__char">' + output[a] + '</span>';
    
    //			}
    
    //		}
    
    //		string = string + '</span>';
    
    //		contactName.append(string);
    
    //
    
    //		var tl = new TimelineMax();
    
    //		var contactNameChar = $('.contact__words-text__char');
    
    //
    
    //		tl.staggerFromTo(contactNameChar, 0.75, {
    
    //			yPercent: 50,
    
    //			opacity: 0
    
    //		}, {
    
    //			yPercent: 0,
    
    //			opacity: 1,
    
    //			ease: Power3.easeOut
    
    //		}, 0.02, 'label+=1');
    
    //	}
    
    }
    
    
    
    $(window).on("load", function () {
    
    	contact();
    
    	
    
    	$('.contact__item').addClass('visible');
    
    });
    
    
    
    $(window).scroll(function () {
    
    //	for (var i = 0; i < $(".contact__item").length; i++) {
    
    //		var top_of_element = $(".contact__item").eq(i).offset().top;
    
    //		var bottom_of_element = $(".contact__item").eq(i).offset().top + $(".contact__item").eq(i).outerHeight();
    
    //		var bottom_of_screen = $(window).scrollTop() + $(window).innerHeight();
    
    //		var top_of_screen = $(window).scrollTop();
    
    //
    
    //		if ((bottom_of_screen > top_of_element) && (top_of_screen < bottom_of_element)) {
    
    //			$('.contact__item').eq(i).addClass('visible');
    
    //			console.log(i);
    
    //		} else {
    
    //			// the element is not visible, do something else
    
    //		}
    
    //	}
    
    });
    
    
    // cursor
    
    //var mouse;
    //
    //function is_touch_device() {
    //	return 'ontouchstart' in window;
    //}
    //
    //function cursorJs() {
    //	var clamp = function () {};
    //
    //	if ($(window).width() > 1280) {
    //		clamp = function (num, min, max) {
    //			return num <= min ? min : num > max ? max : num;
    //		};
    //	}
    //
    //	mouse = {
    //		x: 0,
    //		y: 0
    //	}; // cursor position
    //	var pos = {
    //			x: 0,
    //			y: 0
    //		}, // cursor position
    //		ratio = 0.1, // delay follow cursor
    //		active = false,
    //		playButton = $('.diwork-rolldown__play'),
    //		cursor = $('#cursor');
    //
    //	var ease = 0.1,
    //		threshold = 20,
    //		maxBlur = 2,
    //		lastX,
    //		lastY;
    //
    //	var tl = new TimelineMax();
    //
    //	tl.set(cursor, {
    //		xPercent: -50,
    //		yPercent: -50
    //	});
    //
    //	// TICKER
    //
    //	TweenMax.ticker.fps(60);
    //	TweenMax.ticker.addEventListener("tick", updatePosition);
    //
    //	function updatePosition() {
    //		if (!active) {
    //			lastX = pos.x;
    //			lastY = pos.y;
    //
    //			pos.x += (mouse.x - pos.x) * ratio;
    //			pos.y += (mouse.y - pos.y) * ratio;
    //
    //			var obj = $('[data-scroll-content]');
    //			var transformMatrix = obj.css("-webkit-transform") ||
    //				obj.css("-moz-transform") ||
    //				obj.css("-ms-transform") ||
    //				obj.css("-o-transform") ||
    //				obj.css("transform");
    //			var matrix = transformMatrix.replace(/[^0-9\-.,]/g, '').split(',');
    //			var tY = matrix[13] || matrix[5]; //translate y
    //			
    //			var scrollTop = -tY;
    //
    //			var deltaX = pos.x - lastX;
    //			var deltaY = pos.y - lastY;
    //
    //			var theta = Math.atan2(deltaY, deltaX) * (180 / Math.PI);
    //
    //			var vX = clamp(Math.abs(deltaX) / threshold, 0, 1);
    //			var vY = clamp(Math.abs(deltaY) / threshold, 0, 1);
    //			var velocity = (vX + vY) * 0.5;
    //
    //			tl.set(cursor, {
    //				x: pos.x,
    //				y: pos.y,
    //				scaleX: 1 + velocity,
    //				rotation: theta.toFixed()
    //			});
    //		}
    //	}
    //}
    //
    //// Mouse move listener
    //
    //document.addEventListener("mousemove", mouseMove);
    //
    //function mouseMove(e) {
    //	mouse.x = e.clientX;
    //	mouse.y = e.clientY;
    //}
    //
    //if (!is_touch_device()) {
    //	cursorJs();
    //} else {
    //	$('.cursor').remove();
    //}
    
    // cursor
    
    if ($(".dibio").length > 0) {
    	$(window).scroll(function () {
    		var top_of_element = $(".dibio").offset().top;
    		var bottom_of_element = $(".dibio").offset().top + $(".dibio").outerHeight();
    		var bottom_of_screen = $(window).scrollTop() + $(window).innerHeight();
    		var top_of_screen = $(window).scrollTop();
    
    		if ((bottom_of_screen > top_of_element) && (top_of_screen < bottom_of_element)) {
    			$('.dibio').addClass('visible');
    		} else {
    			// the element is not visible, do something else
    		}
    	});
    }
    
    // function diname() {
    // 	var dinameName = $('.diname__name-text');
    // 	var dinameLink = $('.diname__link');
    //
    // 	if (dinameName.length > 0) {
    //
    // 		var output = dinameName.text();
    // 		dinameName.empty();
    // 		output = output.split('');
    //
    // 		for (var a = 0; a < output.length; a++) {
    // 			if (output[a] == ' ') {
    // 				dinameName.append('<span class="diname__name-text__char">&nbsp;</span>');
    // 			} else {
    // 				dinameName.append('<span class="diname__name-text__char">' + output[a] + '</span>');
    // 			}
    // 		}
    //
    // 		var tl = new TimelineMax();
    // 		var dinameNameChar = $('.diname__name-text__char');
    //
    // 		tl.set(dinameLink, {
    // 			y: -200
    // 		}, 0);
    //
    // 		tl.staggerFromTo(dinameNameChar, 0.75, {
    // 			yPercent: 100
    // 		}, {
    // 			yPercent: 0,
    // 			ease: Power3.easeOut
    // 		}, 0.02, 'label+=1')
    // 		.fromTo(dinameLink, 0.75, {
    // 			y: 100
    // 		}, {
    // 			y: 0,
    // 			ease: Power3.easeOut
    // 		}, 'label+=1.25');
    // 	}
    // }
    //
    // $(window).on("load", function () {
    // 	diname();
    // });
    
    var tl = new TimelineMax();
    var directorsPics = $('.directors__pics img');
    
    tl.set(directorsPics, {
    	y: 100,
    	opacity: 0
    }, 0);
    
    function directors() {
    
    	var directorsLink = $('.directors__link');
    
    	for (var i = 0; i < directorsLink.length; i++) {
    		var output = directorsLink.eq(i).text();
    		directorsLink.eq(i).empty();
    		output = output.split('');
    
    		for (var a = 0; a < output.length; a++) {
    			if (output[a] == ' ') {
    				directorsLink.eq(i).append('<span class="directors__link__char">&nbsp;</span>');
    			} else {
    				directorsLink.eq(i).append('<span class="directors__link__char">' + output[a] + '</span>');
    			}
    		}
    	}
    	var directorsLinkChar = $('.directors__link__char');
    
    	var tl = new TimelineMax();
    
    	tl.staggerFromTo(directorsLinkChar, 0.75, {
    		yPercent: 100
    	}, {
    		yPercent: 0,
    		ease: Power3.easeOut
    	}, 0.02, 'label+=1');
    
    	var directorsItem = $('.directors__item');
    	var directorsPics = $('.directors__pics img');
    
    //	tl.set(directorsPics, {
    //		y: 100,
    //		opacity: 0
    //	}, 0);
    
    	directorsLink
    		.mouseenter(function () {
    			var i = directorsLink.index(this);
    			var tl = new TimelineMax();
    
                $('.tpan').css('zIndex', '0');
                $('[data-directors-zindex-change]').css('zIndex', '1');
    
    			tl.staggerFromTo(directorsItem.eq(i).find(directorsPics), 0.75, {
    				y: 100,
    				opacity: 0
    			}, {
    				y: 0,
    				ease: Power3.easeOut,
    				opacity: 1
    			}, 0.1);
    		})
    		.mouseleave(function () {
    			var i = directorsLink.index(this);
    			var tl = new TimelineMax();
    
    			tl.staggerTo(directorsItem.eq(i).find(directorsPics), 0.75, {
    				y: -100,
    				ease: Power3.easeOut,
    				opacity: 0
    			}, 0.1);
    		});
    }
    
    //$(window).on("load", function () {
    //});
    	directors();
    
    // (function () {
    //     var
    //         blockName = '[data-directors]',
    //         $block = $(blockName),
    //         blockItemName = 'data-link',
    //         $blockItem = $block.find('[' + blockItemName + ']'),
    //         $html = $('html'),
    //         whiteClass = 'is-white',
    //         whiteClassOpacity40 = 'is-white-o40',
    //         addWhiteClassAndOpacityClass = function (context, elementNum) {
    //             context.addClass(whiteClass);
    //             $('[data-link=' + elementNum + ']').addClass(whiteClassOpacity40);
    //         },
    //         removeWhiteClassAndOpacityClass = function (context, elementNum) {
    //             context.removeClass(whiteClass);
    //             $('[data-link=' + elementNum + ']').removeClass(whiteClassOpacity40);
    //         },
    //         addWhiteClassAndOpacityClassToSiblings = function (context) {
    //             context.parent().siblings().find('[data-link]').addClass(whiteClassOpacity40);
    //         },
    //         removeWhiteClassAndOpacityClassToSiblings = function (context) {
    //             context.parent().siblings().find('[data-link]').removeClass(whiteClassOpacity40);
    //         };
    //
    //     if ($block.length === 0) return;
    //
    //     if ($html.hasClass('desktop')) {
    //         $blockItem.hover(function () {
    //             var _this = $(this);
    //
    //             if (_this.attr(blockItemName) === '1') {
    //                 addWhiteClassAndOpacityClass(_this, '2');
    //                 addWhiteClassAndOpacityClassToSiblings(_this);
    //             }
    //
    //             if ($(this).attr(blockItemName) === '2') {
    //                 addWhiteClassAndOpacityClass(_this, '3');
    //                 addWhiteClassAndOpacityClassToSiblings(_this);
    //             }
    //
    //             if ($(this).attr(blockItemName) === '3') {
    //                 addWhiteClassAndOpacityClass(_this, '2');
    //                 addWhiteClassAndOpacityClassToSiblings(_this);
    //             }
    //
    //             if ($(this).attr(blockItemName) === '4') {
    //                 addWhiteClassAndOpacityClass(_this, '3');
    //                 addWhiteClassAndOpacityClassToSiblings(_this);
    //             }
    //         }, function () {
    //             var _this = $(this);
    //
    //             if ($(this).attr(blockItemName) === '1') {
    //                 removeWhiteClassAndOpacityClass(_this, '2');
    //                 removeWhiteClassAndOpacityClassToSiblings(_this);
    //             }
    //
    //             if ($(this).attr(blockItemName) === '2') {
    //                 removeWhiteClassAndOpacityClass(_this, '3');
    //                 removeWhiteClassAndOpacityClassToSiblings(_this);
    //             }
    //
    //             if ($(this).attr(blockItemName) === '3') {
    //                 removeWhiteClassAndOpacityClass(_this, '2');
    //                 removeWhiteClassAndOpacityClassToSiblings(_this);
    //             }
    //
    //             if ($(this).attr(blockItemName) === '4') {
    //                 removeWhiteClassAndOpacityClass(_this, '3');
    //                 removeWhiteClassAndOpacityClassToSiblings(_this);
    //             }
    //         });
    //     }
    // })();
    
    var tl = new TimelineMax();
    
    var diwork = $('.diwork'),
    	dinameText = $('.diwork__diname-text'),
    	disubtitleText = $('.diwork__disubtitle-text');
    
    var dititleText = $('.diwork__dititle-text');
    
    for (var i = 0; i < dititleText.length; i++) {
    	var output = dititleText.eq(i).html();
    	dititleText.eq(i).empty();
    	output = output.split('');
    
    	for (var a = 0; a < output.length; a++) {
    		if (output[a] == ' ') {
    			dititleText.eq(i).append('<span class="diwork__dititle-text__char">&nbsp;</span>');
    		} else {
    			dititleText.eq(i).append('<span class="diwork__dititle-text__char">' + output[a] + '</span>');
    		}
    	}
    }
    
    var dititleTextChar = $('.diwork__dititle-text__char');
    
    tl.set(dinameText, {
    		yPercent: 100
    	}, 0)
    	.set(dititleTextChar, {
    		yPercent: 100
    	}, 0)
    	.set(disubtitleText, {
    		yPercent: 100
    	}, 0);
    
    var tlKill;
    
    diwork
    	.mouseenter(_.debounce(function (e) {
    		e.stopPropagation();
    		tlKill = new TimelineMax();
    
    		dinameText = $('.diwork__diname-text');
    		disubtitleText = $('.diwork__disubtitle-text');
    		dititleTextChar = $('.diwork__dititle-text__char');
    		dititleLine = $('.diwork__dititle__line');
    
    		tlKill.to(dinameText, 0.75, {
    				yPercent: 100,
    				ease: Power3.easeOut
    			}, 0)
    			.to(dititleTextChar, 0.75, {
    				yPercent: 100,
    				ease: Power3.easeOut,
    				onStart: function () {
    					dititleLine.removeClass('active');
    				}
    			}, 0)
    			.to(disubtitleText, 0.75, {
    				yPercent: 100,
    				ease: Power3.easeOut
    			}, 0);
    
    		dinameText = $(this).find('.diwork__diname-text');
    		disubtitleText = $(this).find('.diwork__disubtitle-text');
    		dititleTextChar = $(this).find('.diwork__dititle-text__char');
    		dititleLine = $(this).find('.diwork__dititle__line');
    	
    		tlKill.fromTo(dinameText, 0.75, {
    				yPercent: 100
    			}, {
    				yPercent: 0,
    				ease: Power3.easeOut
    			}, 0.1)
    			.staggerFromTo(dititleTextChar, 0.75, {
    				yPercent: 100
    			}, {
    				yPercent: 0,
    				ease: Power3.easeOut,
    				onStart: function () {
    					dititleLine.addClass('active');
    				}
    			}, 0.03, 'label-=0.7')
    			.fromTo(disubtitleText, 0.75, {
    				yPercent: 100
    			}, {
    				yPercent: 0,
    				ease: Power3.easeOut
    			}, 'label-=0.45');
    	}, 300))
    	.mouseleave(_.debounce(function () {
    		tlKill.pause();
    	
    		var tl = new TimelineMax();
    
    		dinameText = $('.diwork__diname-text');
    		disubtitleText = $('.diwork__disubtitle-text');
    		dititleTextChar = $('.diwork__dititle-text__char');
    		dititleLine = $('.diwork__dititle__line');
    
    		tl.to(dinameText, 0.75, {
    				yPercent: 100,
    				ease: Power3.easeOut
    			}, 0)
    			.to(dititleTextChar, 0.75, {
    				yPercent: 100,
    				ease: Power3.easeOut
    			}, 0)
    			.to(disubtitleText, 0.75, {
    				yPercent: 100,
    				ease: Power3.easeOut
    			}, 0);
    	
    		dititleLine.removeClass('active');
    	}, 300));
    (function () {
    
        // https://github.com/vimeo/player.js#onevent-string-callback-function-void
        // https://player.vimeo.com/api/demo
        // https://github.com/vimeo/player.js/issues/389
    
        // condition vars
        var
            blockName = 'data-diwork-rolldown',
            $block = $('[' + blockName + ']');
    
        // main condition
        if ($block.length === 0) return;
    
        // main vars
        var videoParent = 'data-video-parent',
            videoNext = 'data-video-next',
            videoPrev = 'data-video-prev',
            videoEmbed = 'data-video-embed',
            videoUrl = 'data-video-url',
            visibleClass = 'is-visible';
    
        window.isLoaderHidden = false;
    
        function VideoSequence() {
            var self = this;
            this.videos = [];
            this.currentVideo = 0;
            this.init('[' + videoParent + ']');
            this.initArrows();
            this.initHammerSwipe();
        }
    
        VideoSequence.prototype.initArrows = function () {
            var self = this;
            $block.find('[' + videoPrev + ']').on('click', _.debounce(function () {
                self.prev();
            }, 700));
            $block.find('[' + videoNext + ']').on('click', _.debounce(function () {
                self.next();
            }, 700));
        };
    
        VideoSequence.prototype.initHammerSwipe = function () {
            var self = this;
    
            $('[data-hammer-overlay]').each(function () {
                var _this = $(this);
                var hammerInstance = new Hammer(_this[0]); // https://hammerjs.github.io/ + https://hammerjs.github.io/recognizer-swipe/
                hammerInstance.on("swipeleft", function () {
                    self.next();
                });
                hammerInstance.on("swiperight", function () {
                    self.prev();
                });
            });
        };
    
        VideoSequence.prototype.next = function () {
            var next = this.currentVideo + 1 < this.videos.length ? this.currentVideo + 1 : 0;
            var self = this;
            setTimeout(function () {
                self.goTo(next);
            }, 300);
        };
    
        VideoSequence.prototype.prev = function () {
            var next = this.currentVideo - 1 >= 0 ? this.currentVideo - 1 : this.videos.length - 1;
            var self = this;
            setTimeout(function () {
                self.goTo(next);
            }, 300);
        };
    
        VideoSequence.prototype.goTo = function (next) {
            var current = this.currentVideo,
                nextVideo = this.videos[next],
                currentVideo = this.videos[current];
            nextVideo.parentDomEl.addClass(visibleClass);
            currentVideo.parentDomEl.removeClass(visibleClass);
            currentVideo.parentDomEl.find('[data-video-info]').removeClass(visibleClass);
            nextVideo.reset();
            nextVideo.play();
            setTimeout(function () {
                nextVideo.parentDomEl.find('[data-video-info]').addClass(visibleClass);
            }, 1000);
            setTimeout(function () {
                currentVideo.pause();
            }, 100);
            this.currentVideo = next;
        };
    
        VideoSequence.prototype.init = function (selector) {
            var self = this;
            $(selector).each(function (i, domElement) {
                self.videos.push(new Video(i, domElement, function () { // handleEnd
                    self.next();
                }));
            });
    
            if (self.videos.length > 0) self.videos[0].play();
        };
    
        function Video(index, parentDomEl, handleEnd) {
            this.index = index;
            this.isPlaying = false;
            this.isEnded = true;
            this.parentDomEl = $(parentDomEl);
            this.domEl = this.parentDomEl.find('[' + videoEmbed + ']').eq(0);
            this.handleEnd = handleEnd;
            this.vimeoInstance = null;
            this.vimeoOptions = {
                id: this.domEl.attr(videoUrl),
                controls: false,
                transparent: true,
                autopause: false,
                playsinline: true, // Play video inline on mobile devices, to automatically go fullscreen on playback set this parameter to false.
                autoplay: true,
                muted: true,
                loop: true,
                background: false,
                byline: false
            };
    
            this.init();
        }
    
        Video.prototype.init = function () {
            var self = this;
            this.vimeoInstance = new Vimeo.Player(this.domEl, this.vimeoOptions);
            this.pause();
            this.vimeoInstance.on('loaded', function () {
                setTimeout(function () {
                    if (!window.isLoaderHidden) {
                        loaderAnimationHandler();
                        window.isLoaderHidden = true;
                    }
                }, 1000);
            });
            this.vimeoInstance.on('timeupdate', function (data) {
                if (data.percent >= 0.95) {
                    if (!self.isEnded) {
                        self.handleEnd();
                        self.isEnded = true;
                    }
                }
            });
        };
    
        Video.prototype.play = function () {
            if (!this.isPlaying) {
                this.vimeoInstance.play();
                this.isPlaying = true;
                this.isEnded = false;
            }
        };
    
        Video.prototype.pause = function () {
            if (this.isPlaying) {
                this.vimeoInstance.pause();
                this.isPlaying = false;
            }
        };
    
        Video.prototype.reset = function () {
            this.vimeoInstance.setCurrentTime(0);
        };
    
        new VideoSequence();
    
    })();
    
    
    //(function () {
    //
    //	var
    //		blockName = '[data-diwork-rolldown]',
    //		$block = $(blockName);
    //
    //	if ($block.length === 0) return;
    //
    //	$block.on('click', function () {
    //
    //	});
    //
    //})();
    //
    //function is_touch_device() {
    //	return 'ontouchstart' in window;
    //}
    //
    //// cursor
    //
    //var mouse;
    //
    //function playJs() {
    //	var clamp = function () {};
    //
    //	if ($(window).width() > 1280) {
    //		clamp = function (num, min, max) {
    //			return num <= min ? min : num > max ? max : num;
    //		};
    //	}
    //
    //	mouse = {
    //		x: 0,
    //		y: 0
    //	}; // cursor position
    //	var pos = {
    //			x: 0,
    //			y: 0
    //		}, // cursor position
    //		ratio = 0.1, // delay follow cursor
    //		active = false,
    //		playButton = $('.diwork-rolldown__play');
    //
    //	var ease = 0.1,
    //		threshold = 20,
    //		maxBlur = 2,
    //		lastX,
    //		lastY;
    //
    //	var topElement = $('.diwork-rolldown__body').offset().top,
    //		leftElement = $('.diwork-rolldown__body').offset().left;
    //
    //	var tl = new TimelineMax();
    //
    //	tl.set(playButton, {
    //		xPercent: -50,
    //		yPercent: -50
    //	});
    //
    //	// TICKER
    //
    //	TweenMax.ticker.fps(60);
    //	TweenMax.ticker.addEventListener("tick", updatePosition);
    //
    //	function updatePosition() {
    //		if (!active) {
    //			lastX = pos.x;
    //			lastY = pos.y;
    //
    //			pos.x += (mouse.x - pos.x) * ratio;
    //			pos.y += (mouse.y - pos.y) * ratio;
    //
    //			var obj = $('[data-scroll-content]');
    //			var transformMatrix = obj.css("-webkit-transform") ||
    //				obj.css("-moz-transform") ||
    //				obj.css("-ms-transform") ||
    //				obj.css("-o-transform") ||
    //				obj.css("transform");
    //			var matrix = transformMatrix.replace(/[^0-9\-.,]/g, '').split(',');
    //			var tY = matrix[13] || matrix[5]; //translate y
    //
    //			var scrollTop = -tY;
    //
    //			var deltaX = pos.x - lastX;
    //			var deltaY = pos.y - lastY;
    //
    //			var theta = Math.atan2(deltaY, deltaX) * (180 / Math.PI);
    //
    //			var vX = clamp(Math.abs(deltaX) / threshold, 0, 1);
    //			var vY = clamp(Math.abs(deltaY) / threshold, 0, 1);
    //			var velocity = (vX + vY) * 0.5;
    //
    //			tl.set(playButton, {
    //				x: pos.x - $('.diwork-rolldown__body').offset().left,
    //				y: pos.y + scrollTop - ($('.diwork-rolldown__body').offset().top - $('html, body').scrollTop()/2)
    //			});
    //
    ////			console.log($('.diwork-rolldown__body').offset().top);
    //		}
    //	}
    //}
    //
    //function diworkCursor() {
    //	if ($('.diwork-rolldown__body').length > 0) {
    //		$('.diwork-rolldown__play').addClass('active');
    //
    //		var mouseSpace = $('.diwork-rolldown__body');
    //		var cursor = $('#cursor');
    //		var playButton = $('.diwork-rolldown__play');
    //
    //		var canMove = true;
    //		var yMousePos;
    //
    //		$('body')
    //			.mousemove(function (e) {
    //				if (canMove) {
    //					var topElement = $('.diwork-rolldown__body').offset().top,
    //						leftElement = $('.diwork-rolldown__body').offset().left,
    //						widthElement = $('.diwork-rolldown__body').width(),
    //						heightElement = $('.diwork-rolldown__body').height();
    //
    //					if ((e.pageX > leftElement) && (e.pageX < (leftElement + widthElement)) && (e.pageY > topElement) && (e.pageY < (topElement + heightElement))) {
    //						cursor.addClass('hidden');
    //						playButton.removeClass('hidden');
    //					} else {
    //						cursor.removeClass('hidden');
    //						playButton.addClass('hidden');
    //					}
    //					//					playButton.css({
    //					//						left: e.pageX - leftElement,
    //					//						top: e.pageY - topElement
    //					//					});
    //				}
    //
    //				function mouseMove(e) {
    //					mouse.x = e.pageX - leftElement;
    //					mouse.y = e.pageY - topElement;
    //				}
    //			});
    //
    //		playJs();
    //
    //		mouseSpace
    //			.mouseenter(function (e) {
    //				cursor.addClass('hidden');
    //				playButton.removeClass('hidden');
    //			});
    //	}
    //}
    //
    //if (!is_touch_device()) {
    ////	diworkCursor();
    //}
    
    (function () {
    
        // fix 100vh on mobile devices
        // https://css-tricks.com/the-trick-to-viewport-units-on-mobile/
        var $page = $('html');
    
        function vhToHtmlStyle(page) {
            if ($page.hasClass('mobile') || $page.hasClass('tablet')) {
                var vh = window.innerHeight * 0.01;
                page.css('--vh', vh + 'px');
            }
        }
    
        vhToHtmlStyle($page);
    
        windowResizeHandler.addHandler(function (e) {
            vhToHtmlStyle($page);
        });
    
    })();
    
    /** https://github.com/aFarkas/lazysizes */
    
    window.lazySizesConfig = window.lazySizesConfig || {};
    
    // overwrite default expand parameter to prevent loading
    // images in second screen to increase loading page speed
    window.lazySizesConfig.expand = 20;
    
    function setLazySizesNewConfigExpand() {
        window.lazySizesConfig.expand = 2 * windowHeight;
        // console.log('settings was changed'); // debug
    }
    
    // "scroll" not use because it fires on page load
    $(window).one('wheel DOMMouseScroll mousewheel touchmove', _.throttle(function () {
        setLazySizesNewConfigExpand();
    }, 300));
    
    windowResizeHandler.addHandler(function (e) {
        setLazySizesNewConfigExpand();
    });
    
    var logo = $('.logo');
    var shape = $('.logo__brand-name__sprite');
    
    var tl = new TimelineMax();
    
    tl.set(shape, {
      yPercent: 140
    }, 0);
    
    function is_touch_device() {
      return 'ontouchstart' in window;
    }
    
    if (!is_touch_device()) {
      logo
        .mouseenter(function () {
          var tl = new TimelineMax();
          var shape;
    
          if ($('html').hasClass('theme_dark')) {
            shape = $('.logo__brand-name_dark .logo__brand-name__sprite');
          } else {
            shape = $('.logo__brand-name_light .logo__brand-name__sprite');
          }
    
          tl.staggerFromTo(shape, 0.75, {
            yPercent: 140
          }, {
            yPercent: 0,
            ease: Power3.easeOut
          }, 0.03);
        })
        .mouseleave(function () {
          var tl = new TimelineMax();
          var shape;
    
          if ($('html').hasClass('theme_dark')) {
            shape = $('.logo__brand-name_dark .logo__brand-name__sprite');
          } else {
            shape = $('.logo__brand-name_light .logo__brand-name__sprite');
          }
    
          tl.staggerTo(shape, 0.75, {
            yPercent: -140,
            ease: Power3.easeOut
          }, 0.03);
        });
    }
    
    // move to html as inline script
    
    // (function () {
    //
    //     function AnimationController(container, config) {
    //         var defaultConf = { // https://github.com/airbnb/lottie-web
    //                 renderer: 'svg',
    //                 loop: false,
    //                 autoplay: false,
    //             },
    //             self = this;
    //
    //         this.container = container;
    //         this.config = Object.assign({}, defaultConf, config);
    //         this.animator = null;
    //         this.svgContainer = document.querySelector(this.container);
    //
    //         this.play = function () {
    //             self.animator.play();
    //         };
    //
    //         this.stop = function () {
    //             self.animator.stop();
    //         };
    //
    //         this.init = function () {
    //             if (!this.svgContainer) return;
    //
    //             this.animator = lottie.loadAnimation(Object.assign({
    //                 container: this.svgContainer
    //             }, this.config));
    //
    //             this.play();
    //
    //             this.animator.addEventListener('complete', hidePreloader);
    //
    //             function hidePreloader() {
    //                 $('[data-preloader]').addClass('is-hidden');
    //
    //                 setTimeout(function () {
    //                     $('[data-preloader]').remove();
    //                 }, 3000);
    //             }
    //         };
    //
    //         this.init();
    //     }
    //
    //     function runAnimation(animationType) {
    //
    //         var preladerAnimation;
    //
    //         // https://api.jquery.com/jquery.getscript/
    //         $.getScript(document.location.origin + '/lottie-animation/lottie.js', function () {
    //
    //             preladerAnimation = new AnimationController('[data-lottie-' + animationType + ']', {
    //                 path: 'lottie-animation/logo-preloader-theme-' + animationType + '.json',
    //             });
    //
    //         });
    //     }
    //
    //     if (window.getTheme === 'theme_dark') {
    //         runAnimation('dark');
    //     } else if (window.getTheme === 'theme_light') {
    //         runAnimation('light');
    //     } else {
    //         runAnimation('light');
    //     }
    //
    // })();
    
    /** modal */
    
    function clearHashinUrl() {
      var noHashURL = window.location.href.replace(/#.*$/, '');
      window.history.replaceState('', document.title, noHashURL);
    }
    
    window.readIdFromHashAndOpenCorrectModal = function () {
    
      var $page = $('html'),
        videoID = window.location.hash.slice(1);
    
      if (!videoID.length) return;
    
      var $el = $('[data-video="https://player.vimeo.com/video/' + videoID + '"]');
    
      if (!$el.length) return;
    
      var
        modalToOpen,
        modalDirector,
        modalTitle,
        modalSubtitle;
    
      if ($page.hasClass('wksp_home')) { //console.log('page home'); // debug
        modalToOpen = $('#modal-video-home');
        modalDirector = $el.attr('data-modal-diname');
        modalToOpen.find('[data-diname]').text(modalDirector);
        modalTitle = $el.attr('data-modal-title');
        modalSubtitle = $el.attr('data-modal-disubtitle');
      }
    
      if ($page.hasClass('wksp_director')) { //console.log('page director'); // debug
        modalToOpen = $('#modal-video-home');
        modalDirector = $el.attr('data-diwork-diname');
        modalToOpen.find('[data-diname]').text(modalDirector);
        modalTitle = $el.attr('data-diwork-dititle');
        modalSubtitle = $el.attr('data-diwork-disubtitle');
      }
    
      modalToOpen.find('[data-title]').text(modalTitle);
      modalToOpen.find('[data-subtitle]').text(modalSubtitle);
      modalToOpen.find('.iframe').html('<iframe src="https://player.vimeo.com/video/' + videoID + '?autoplay=1&loop=1&rel=0&title=0&byline=0&portrait=0" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe>');
      modalToOpen.modal('show');
      modalToOpen.on('hidden.bs.modal', function () {
        modalToOpen.find('.iframe').html('');
        clearHashinUrl();
      });
    };
    
    //window.readIdFromHashAndOpenCorrectModal();
    
    $(document).ready(function () {
      setTimeout(function(){
        window.readIdFromHashAndOpenCorrectModal();
      }, 300);
    });
    
    (function () {
    
      var
    
        $html = $('html'),
    
        modalShowHandler = function (modalTarget) {
          modalTarget.modal('show');
          modalTarget.addClass('in');
        },
    
        modalHiddenBsModalHandler = function (modalTarget) {
          window.bsModalOpened = true;
          modalTarget.on('hidden.bs.modal', function () {
            window.bsModalOpened = false;
            modalTarget.removeClass('in');
            clearHashinUrl();
          });
        },
    
        parseVideo = function (url) {
    
          // https://gist.github.com/hx0day/3bed3b72f25564b1e544afa2a6452229
    
          // - Supported YouTube URL formats:
          //   - http://www.youtube.com/watch?v=My2FRPA3Gf8
          //   - http://youtu.be/My2FRPA3Gf8
          //   - https://youtube.googleapis.com/v/My2FRPA3Gf8
          //   - https://www.youtube-nocookie.com/embed/3S5uYYjdMNo
          //   - https://www.youtube.com/embed/3S5uYYjdMNo
    
          // - Supported Vimeo URL formats:
          //   - http://vimeo.com/25451551
          //   - http://player.vimeo.com/video/25451551
    
          // - Also supports relative URLs:
          //   - //player.vimeo.com/video/25451551
    
          url.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis|be-nocookie\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/);
    
          var type = null;
    
          if (RegExp.$3.indexOf('youtu') > -1) {
            type = 'youtube';
          } else if (RegExp.$3.indexOf('vimeo') > -1) {
            type = 'vimeo';
          }
    
          return {
            type: type,
            id: RegExp.$6
          };
        };
    
      if (!$html.hasClass('wksp_home') && $html.hasClass('mobile') || !$html.hasClass('wksp_home') && $html.hasClass('tablet')) {
        modalHandler('data-open-modal-mobile');
      } else if ($html.hasClass('wksp_home') && $html.hasClass('mobile') || $html.hasClass('wksp_home') && $html.hasClass('tablet')) {
        modalHandler('data-open-modal');
      } else {
        modalHandler('data-open-modal');
      }
    
      function modalHandler(modalClickElement) {
    
        $(document).on('click', '[' + modalClickElement + ']', function (e) {
    
          e.preventDefault();
          e.stopPropagation();
    
          // $(document).on('keydown', function (e) {
          //     if (e.key === "Escape") {
          //         $modalToShow.modal('hide');
          //         $modalToShow.find('.iframe').html('');
          //     }
          // });
    
          var
            _this = $(this),
            $modalName = _this.attr(modalClickElement),
            $modalToShow = $('#modal-' + $modalName);
    
          if (!$modalToShow.length) {
    
            console.log('Modal with ID #modal-' + $modalName + ' not find on page.');
    
          } else if ($modalToShow.length && $modalName === 'video') {
    
            // dependencies :
            // _src/scss/blocks/_modal.scss
            // _src/templates/_blocks/_modal-video.pug
            // + include modal on page in modal block
    
            // pug usage example
            // .some_element(data-open-modal='video' data-video='https://www.youtube.com/watch?v=suTYbf-FtXg')
    
            var
              $videoUrl = _this.attr('data-video'),
              $videoType = parseVideo($videoUrl).type,
              $videoId = parseVideo($videoUrl).id,
              $videoTitle = '',
              $videoSubtitle = '',
              $videoHomeDinameOne = '';
    
            if (modalClickElement === 'data-open-modal-mobile') {
              $videoTitle = _this.attr('data-diwork-dititle');
              $videoSubtitle = _this.attr('data-diwork-disubtitle');
              $videoHomeDinameOne = _this.attr('data-diwork-diname');
            } else {
              $videoTitle = _this.attr('data-modal-title');
              $videoSubtitle = _this.attr('data-modal-subtitle');
            }
    
            if ($videoType === 'youtube') {
    
              // todo сделать плеер youtube через api
              // https://developers.google.com/youtube/iframe_api_reference?hl=ru
    
              // вариант без цикла
              //$modalToShow.find('.iframe').html('<iframe src="https://www.youtube-nocookie.com/embed/' + $videoId + '?controls=0&autoplay=1" frameborder="0" allow="autoplay; encrypted-media" mozallowfullscreen allowfullscreen allowfullscreen></iframe>');
    
              // вариант с циклом
    
              // интересная идея с зацикливанием проигрывания видео дабы не показывать в конце плейлист с другими видео
              // от отображения плейлиста при нажатии на паузу не защитит но в конце видео начнется заново, а это уже кое-что
              //$playIframeContainer.append('<iframe src="' + $playIframeSrc + '?autoplay=1&loop=1&rel=0&mute=1&playlist=onUm_GDhZ1Y" allow="autoplay; encrypted-media;" allowfullscreen=""></iframe>');
    
              $modalToShow.find('.iframe').html('<iframe src="https://www.youtube-nocookie.com/embed/' + $videoId + '?controls=0&autoplay=1&loop=1&rel=0&playlist=' + $videoId + '" frameborder="0" allow="autoplay; encrypted-media" mozallowfullscreen allowfullscreen></iframe>');
    
            } else if ($videoType === 'vimeo') {
    
              //<iframe src="https://player.vimeo.com/video/296525937?title=0&byline=0&portrait=0" width="640" height="360" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe>
              $modalToShow.find('.iframe').html('<iframe src="https://player.vimeo.com/video/' + $videoId + '?autoplay=1&loop=1&rel=0&title=0&byline=0&portrait=0" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe>');
    
            }
    
            $modalToShow.find('[data-title]').text($videoTitle);
            $modalToShow.find('[data-subtitle]').text($videoSubtitle);
            $modalToShow.find('[data-diname]').text($videoHomeDinameOne);
    
            location.hash = $videoId;
    
            modalShowHandler($modalToShow);
    
            modalHiddenBsModalHandler($modalToShow);
    
            $modalToShow.on('hidden.bs.modal', function () {
              $modalToShow.find('.iframe').html('');
            });
    
          } else if ($modalToShow.length && $modalName === 'video-home') {
    
            // dependencies :
            // _src/scss/blocks/_modal.scss
            // _src/templates/_blocks/_modal-video.pug
            // + include modal on page in modal block
    
            // pug usage example
            // .some_element(data-open-modal='video' data-video='https://www.youtube.com/watch?v=suTYbf-FtXg')
    
            var
              $videoHomeUrl = _this.attr('data-video'),
              $videoHomeType = parseVideo($videoHomeUrl).type,
              $videoHomeId = parseVideo($videoHomeUrl).id,
              $videoHomeDiname = _this.attr('data-modal-diname'),
              $videoHomeTitle = _this.attr('data-modal-title'),
              $videoHomeSubtitle;
    
            if (_this.attr('data-modal-disubtitle')) {
              $videoHomeSubtitle = _this.attr('data-modal-disubtitle');
            } else if (_this.attr('data-modal-subtitle')) {
              $videoHomeSubtitle = _this.attr('data-modal-subtitle');
            }
    
            if ($videoHomeType === 'youtube') {
    
              // todo сделать плеер youtube через api
              // https://developers.google.com/youtube/iframe_api_reference?hl=ru
    
              // вариант без цикла
              //$modalToShow.find('.iframe').html('<iframe src="https://www.youtube-nocookie.com/embed/' + $videoId + '?controls=0&autoplay=1" frameborder="0" allow="autoplay; encrypted-media" mozallowfullscreen allowfullscreen allowfullscreen></iframe>');
    
              // вариант с циклом
    
              // интересная идея с зацикливанием проигрывания видео дабы не показывать в конце плейлист с другими видео
              // от отображения плейлиста при нажатии на паузу не защитит но в конце видео начнется заново, а это уже кое-что
              //$playIframeContainer.append('<iframe src="' + $playIframeSrc + '?autoplay=1&loop=1&rel=0&mute=1&playlist=onUm_GDhZ1Y" allow="autoplay; encrypted-media;" allowfullscreen=""></iframe>');
    
              $modalToShow.find('.iframe').html('<iframe src="https://www.youtube-nocookie.com/embed/' + $videoHomeId + '?controls=0&autoplay=1&loop=1&rel=0&playlist=' + $videoHomeId + '" frameborder="0" allow="autoplay; encrypted-media" mozallowfullscreen allowfullscreen></iframe>');
    
            } else if ($videoHomeType === 'vimeo') {
    
              //<iframe src="https://player.vimeo.com/video/296525937?title=0&byline=0&portrait=0" width="640" height="360" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe>
              $modalToShow.find('.iframe').html('<iframe src="https://player.vimeo.com/video/' + $videoHomeId + '?autopause=0&autoplay=1&loop=1&rel=0&title=0&byline=0&portrait=0" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe>');
    
            }
    
            $modalToShow.find('[data-diname]').text($videoHomeDiname);
            $modalToShow.find('[data-title]').text($videoHomeTitle);
            $modalToShow.find('[data-subtitle]').text($videoHomeSubtitle);
    
            location.hash = $videoHomeId;
    
            modalShowHandler($modalToShow);
    
            modalHiddenBsModalHandler($modalToShow);
    
            $modalToShow.on('hidden.bs.modal', function () {
              $modalToShow.find('.iframe').html('');
            });
    
          } else {
    
            modalShowHandler($modalToShow);
    
            modalHiddenBsModalHandler($modalToShow);
          }
    
        });
      }
    
      // fix tpan on modal-video open
      var $modalVideo = $('#modal-video, #modal-video-home');
    
      $modalVideo.on('shown.bs.modal', function () {
        if ($html.hasClass('desktop') && $html.hasClass('windows')) {
          var
            bodyPadding = $('body.modal-open').attr('style'),
            bodyPaddingToMargin = bodyPadding.replace('padding', 'margin'),
            onlyNumIterationOne = bodyPadding.replace('padding-right: ', ''),
            onlyNumIterationTwo = onlyNumIterationOne.replace('px;', ''),
            updateWidth = (1040 / 16) + (onlyNumIterationTwo / 16);
    
          $('.tpan').attr('style', bodyPaddingToMargin);
          $(this).find('.modal-content').attr('style', 'max-width: ' + updateWidth + 'em;');
        }
      });
    
      $modalVideo.on('hidden.bs.modal', function () {
        if ($html.hasClass('desktop')) {
          $('.tpan').removeAttr('style');
        }
      });
    
    })();
    
    var iframe = $('.video-container');
    
    if (!is_touch_device()) {
      iframe
        .mouseenter(function () {
          $('#cursor').fadeOut();
        })
        .mouseleave(function () {
          $('#cursor').fadeIn();
        });
    }
    
    $(function () {
        objectFitImages();
    });
    // (function () {
    //
    // })();
    
    (function () {
    
        var
            blockName = '[data-rolldown-trigger]',
            $block = $(blockName),
            $rollDownContainer = $('[data-rolldown-container]'),
            $rollDown = $rollDownContainer.find('[data-diwork-rolldown]'),
            $page = $('html, body'),
            $html = $('html');
    
        if ($block.length === 0) return;
    
        if ($html.hasClass('desktop')) {
    
            $block.on('click', function () {
    
                var
                    _ths = $(this),
                    $name = _ths.attr('data-diwork-diname'),
                    $title = _ths.attr('data-diwork-dititle'),
                    $subTitle = _ths.attr('data-diwork-disubtitle'),
                    $pic = _ths.attr('data-diwork-dibigpic'),
                    $video = _ths.attr('data-video');
    
                $rollDownContainer.find('[data-name]').text($name);
                $rollDownContainer.find('[data-title]').text($title);
                $rollDownContainer.find('[data-subtitle]').text($subTitle);
                $rollDownContainer.find('[data-rolldown-pic]').attr('src', $pic);
                $rollDownContainer.find('[data-video]').attr('data-video', $video);
                $rollDownContainer.find('[data-modal-title]').attr('data-modal-title', $title);
                $rollDownContainer.find('[data-modal-subtitle]').attr('data-modal-subtitle', $subTitle);
                $rollDownContainer.find('[data-modal-diname]').attr('data-modal-diname', $name);
    
                $page.animate({
                    scrollTop: 0
                }, 500, function () {
    
                    // debug
                    // console.log($name);
                    // console.log($title);
                    // console.log($subTitle);
                    // console.log($pic);
    
                    //$('[data-rolldown-container]').slideDown('500');
                    $rollDown.slideDown('500');
                });
    
                // https://stackoverflow.com/questions/18445590/jquery-animate-stop-scrolling-when-user-scrolls-manually
                $page.on("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove", function () {
                    $(this).stop();
                });
            });
        }
    
    })();
    
    (function () {
    
        windowScrollHandler.addHandler(function () {
    
            var
                threshold = 200, // number of pixels before bottom of page that you want to start fading
                op = (($(document).height() - $(window).height()) - $(window).scrollTop()) / threshold;
    
            // console.log(op); // debug
    
            if (op <= 0.80) {
                $('[data-scdown]').css('opacity', '0');
            } else {
                $('[data-scdown]').css('opacity', '1');
            }
        });
    
    })();
    
    function scrollLine() {
      var tl = new TimelineMax();
    
      TweenMax.set('.scroll-line', {
        scaleX: 0
      });
      var tlScrollIndic = new TimelineLite({
          paused: true
        })
        .to('.scroll-line', 0.5, {
          scaleX: 1,
          transformOrigin: 'left',
          ease: Linear.easeNone
        });
    
      $(window).scroll(function (e) {
        var scrollTop = $(window).scrollTop(); //get distance Scrolled
        var docHeight = $(document).height(); //get height from Document
        var winHeight = $(window).height(); //get height from Window
        var scrollPercent = (scrollTop) / (docHeight - winHeight); // Total Height - Window Height / Distance from Doc
    
        var scrollPercentRounded;
    
        if (scrollPercent <= 0) {
          tlScrollIndic.progress(0).pause();
        } else {
          scrollPercentRounded = Math.round(scrollPercent * 100) / 100;
          tlScrollIndic.progress(scrollPercent).pause();
        }
    
      });
    }
    
    scrollLine();
    
    function is_touch_device() {
      try {
        document.createEvent("TouchEvent");
        return true;
      } catch (e) {
        return false;
      }
    }
    
    (function () {
    
      var $scrollTo = $(".js-scrollTo");
    
      if ($scrollTo.length) {
    
        $scrollTo.on('click', function (e) {
    
          // work but load all images on page !!!
          //$('img.lazyload').addClass('lazypreload');
    
          e.preventDefault();
    
          var
            $page = $('html, body'),
            $tpanHeight = $('.tpan ').outerHeight(),
            target = '';
    
          if ($(this).attr("href")) {
    
            if ($(this).attr("href") === '#') {
              //console.log('Внимание! Укажите имя идентифиактора. Сейчас в разметке для "' + $(this).attr('class') + '" стоит "' + $(this).attr("href") + '"');
              target = 'undefined';
            } else {
              target = $(this).attr("href");
            }
    
            // // debug
            // console.log(target);
    
          } else if ($(this).attr("data-href")) {
    
    
            if ($(this).attr("data-href") === '#') {
              //console.log('Внимание! Укажите имя идентифиактора. Сейчас в разметке для "' + $(this).attr('class') + '" стоит "' + $(this).attr("data-href") + '"');
              target = 'undefined';
            } else {
              target = $(this).attr("data-href");
            }
    
            // debug
            // console.log(target);
    
          } else {
            //console.log('.js-scrollTo должен иметь href или data-href');
          }
    
          var $targetElement = $(target);
          var scrollTo;
    
          if ($targetElement.length) {
    
            if (windowWidth <= 1023) {
    
              if (!is_touch_device()) {
                scrollTo = ($targetElement.offset().top - $tpanHeight) * 2 - $('html, body').scrollTop();
              } else {
                scrollTo = $targetElement.offset().top - $tpanHeight;
              }
    
              $page.animate({
                scrollTop: scrollTo
              }, 750);
    
            } else {
    
              if (!is_touch_device()) {
                scrollTo = $targetElement.offset().top * 2 - $('html, body').scrollTop();
              } else {
                scrollTo = $targetElement.offset().top;
              }
    
              $page.animate({
                scrollTop: scrollTo
              }, 750);
            }
            // stop scrolling when user scrolls manually
            // https://stackoverflow.com/questions/18445590/jquery-animate-stop-scrolling-when-user-scrolls-manually
            $page.on("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove", function () {
              $(this).stop();
            });
    
          } else {
            console.log('id блока цели не определен');
          }
    
        });
    
      }
    
    })();
    
    (function () {
        var
            blockName = '[data-switcher]',
            $block = $(blockName);
    
        if ($block.length === 0) return;
    
        var $blockItem = $block.find('[data-view]');
    
        var
            $html = $('html'),
            cookieExpireDate = new Date(Date.now() + 3600 * 24 * 365 * 1000),
            theme = getCookie("theme");
    
        if (!theme) {
            if ($html.hasClass('theme_light')) {
                setCookie('theme', 'theme_light', cookieExpireDate);
            } else if ($html.hasClass('theme_dark')) {
                setCookie('theme', 'theme_dark', cookieExpireDate);
            }
    
        }
    
        else {
    
            if (theme === 'theme_light') {
                //$html.addClass('theme_light').removeClass('theme_dark'); // set in _src/pages/_base/_layout.pug as inline script in head
                $block.find('[data-view="light"]').addClass('is-active').siblings().removeClass('is-active');
            } else if (theme === 'theme_dark') {
                //$html.addClass('theme_dark').removeClass('theme_light'); set in _src/pages/_base/_layout.pug as inline script in head
                $block.find('[data-view="dark"]').addClass('is-active').siblings().removeClass('is-active');
            }
        }
    
        $blockItem.on('click', function () {
            $(this).addClass('is-active').siblings().removeClass('is-active');
    
            if ($(this).attr('data-view') === 'light') {
                $('html').addClass('theme_' + $(this).attr('data-view')).removeClass('theme_dark');
                setCookie('theme', 'theme_light', cookieExpireDate);
    
            } else if ($(this).attr('data-view') === 'dark') {
                $('html').addClass('theme_' + $(this).attr('data-view')).removeClass('theme_light');
                setCookie('theme', 'theme_dark', cookieExpireDate);
            }
        });
    
    
        /** Функции для работы с куки
         * https://learn.javascript.ru/article/cookie/cookie.js
         * */
    
        // получение куки
        function getCookie(name) {
            var matches = document.cookie.match(new RegExp(
                "(?:^|; )" + name.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g, '\\$1') + "=([^;]*)"
            ));
            return matches ? decodeURIComponent(matches[1]) : undefined;
        }
    
        // установка куки
        // todo переписать на es5 или корректно подключить babel
        //function setCookie(name, value, options = {}) {
        function setCookie(name, value, options) {
            options = {
                path: '/',
                // при необходимости добавьте другие значения по умолчанию
                //...options
            };
    
            if (options.expires instanceof Date) {
                options.expires = options.expires.toUTCString();
            }
    
            var updatedCookie = encodeURIComponent(name) + "=" + encodeURIComponent(value);
    
            for (var optionKey in options) {
                updatedCookie += "; " + optionKey;
                var optionValue = options[optionKey];
                if (optionValue !== true) {
                    updatedCookie += "=" + optionValue;
                }
            }
    
            document.cookie = updatedCookie;
        }
    
        // Пример использования установка куки:
        //setCookie('user', 'John', {secure: true, 'max-age': 3600});
    
        // debug ( лучше использовать chrome devtools -> Application -> cookies и удалить куку lang вручную)
        // // удаление куки
        // function devareCookie(name) {
        //     setCookie(name, "", {
        //         'max-age': -1
        //     })
        // }
    
    })();
    
    //=require _blocks/_utils/js/_utils.js
    // (function () {
    //
    //     var
    //         blockName = '[data-weusecookies]',
    //         $block = $(blockName);
    //
    //     if ($block.length === 0) return;
    //
    //     var
    //         $close = $block.find('[data-close]'),
    //         cookieExpireDate = new Date(Date.now() + 3600 * 24 * 365 * 1000);
    //
    //     if (!getCookie('ACCEPT-COOKIES')) {
    //         $block.show();
    //     }
    //
    //     $close.on('click', function () {
    //         var cookieValue = $(this).attr('data-close');
    //         setCookie('ACCEPT-COOKIES', cookieValue, cookieExpireDate);
    //         $block.hide();
    //     });
    //
    //     function getCookie(name) {
    //         var matches = document.cookie.match(new RegExp(
    //             "(?:^|; )" + name.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g, '\\$1') + "=([^;]*)"
    //         ));
    //         return matches ? decodeURIComponent(matches[1]) : undefined;
    //     }
    //
    //     function setCookie(name, value, options) {
    //         options = {
    //             path: '/',
    //             // при необходимости добавьте другие значения по умолчанию
    //             //...options
    //         };
    //
    //         if (options.expires instanceof Date) {
    //             options.expires = options.expires.toUTCString();
    //         }
    //
    //         var updatedCookie = encodeURIComponent(name) + "=" + encodeURIComponent(value);
    //
    //         for (var optionKey in options) {
    //             updatedCookie += "; " + optionKey;
    //             var optionValue = options[optionKey];
    //             if (optionValue !== true) {
    //                 updatedCookie += "=" + optionValue;
    //             }
    //         }
    //
    //         document.cookie = updatedCookie;
    //     }
    //
    // })();
    
    
});
