$(document).ready(function(){function e(){if($(window).width()<575.98){for(a=$(window).width(),carouselItems=$(".carousel__item").length,carouselWidth=(.8*a+2*+$(".carousel__item").css("margin-left").slice(0,-2))*carouselItems,itemHalfWidth=.4*a+ +$(".carousel__item").css("margin-left").slice(0,-2),i=0;i<carouselItems;i++)$(".carousel__bg img").eq(i).css("left",2*itemHalfWidth*i);$(".carousel__inner").css({width:carouselWidth,marginLeft:a/2-itemHalfWidth})}else{for(a=$(window).width(),carouselItems=$(".carousel__item").length,carouselWidth=(.4*a+2*+$(".carousel__item").css("margin-left").slice(0,-2))*carouselItems,itemHalfWidth=.2*a+ +$(".carousel__item").css("margin-left").slice(0,-2),i=0;i<carouselItems;i++)$(".carousel__bg img").eq(i).css("left",2*itemHalfWidth*i);$(".carousel__inner").css({width:carouselWidth,marginLeft:a/2-itemHalfWidth})}}$(".carousel").css("height",$(window).innerHeight);var a=$(window).width();e(),window.addEventListener("resize",function(){e()},!1),window.addEventListener("orientationchange",function(){e()},!1);var o=0;$(document).on("click",".carousel__left i",function(){if(o>0){$(".carousel__item").eq(o).removeClass("active"),$(".carousel__item").eq(o-1).addClass("active");(new TimelineMax).to($(".carousel__bg"),2,{ease:Power4.easeOut,left:2*-itemHalfWidth*(o-1)},0);(new TimelineMax).to($(".carousel__bg img").eq(o),.75,{ease:Power3.easeOut,opacity:0,scale:0},0).to($(".carousel__bg img").eq(o-1),1.5,{ease:Power3.easeOut,opacity:.5,scale:1},0);(new TimelineMax).to($(".carousel__inner"),2,{ease:Power4.easeOut,marginLeft:a/2-itemHalfWidth-2*itemHalfWidth*(o-1)},0)}}),$(document).on("click",".carousel__right i",function(){if(o<carouselItems-1){$(".carousel__item").eq(o).removeClass("active"),$(".carousel__item").eq(o+1).addClass("active");(new TimelineMax).to($(".carousel__bg"),2,{ease:Power4.easeOut,left:2*-itemHalfWidth*(o+1)},0);(new TimelineMax).to($(".carousel__bg img").eq(o),.75,{ease:Power3.easeOut,opacity:0,scale:0},0).to($(".carousel__bg img").eq(o+1),1.5,{ease:Power3.easeOut,opacity:.5,scale:1},0);(new TimelineMax).to($(".carousel__inner"),2,{ease:Power4.easeOut,marginLeft:a/2-itemHalfWidth-2*itemHalfWidth*(o+1)},0)}});var t=0,s=0,r=0,n=0,l=0,c=0;$(document).on({mouseup:function(e){(u=new TimelineMax).to($("#cursor"),1,{ease:Power3.easeOut,scale:1,transformOrigin:"50% 50%"},0),u.to($(".carousel__nav"),1,{ease:Power3.easeOut,opacity:1},.25),n=e.screenX,t=0;var s=[];for(i=0;i<carouselItems;i++){var r=$(".carousel__item").eq(i).offset().left,l=$(window).width()/2-r;l=Math.abs(l),s.push(l)}var c=s.indexOf(Math.min.apply(Math,s));$(".carousel__item").removeClass("move"),$(".carousel__item").eq(c).addClass("active"),o=c;(u=new TimelineMax).to($(".carousel__inner"),1,{ease:Power4.easeOut,marginLeft:a/2-itemHalfWidth-2*itemHalfWidth*c},0).to($(".carousel__bg"),1,{ease:Power4.easeOut,left:2*-itemHalfWidth*c},0);var u;(u=new TimelineMax).to($(".carousel__bg img"),.5,{ease:Power3.easeOut,opacity:0,scale:0},0),u.to($(".carousel__bg img").eq(c),1.5,{ease:Power3.easeOut,opacity:.5,scale:1},0)},mousedown:function(e){switch(e.which){case 1:(new TimelineMax).to($("#cursor"),1,{ease:Power3.easeOut,scale:1.5,transformOrigin:"50% 50%"},0),t=1,setTimeout(function(){if(1==t){(new TimelineMax).to($(".carousel__bg img"),1.25,{ease:Power3.easeOut,scale:.4,opacity:.5},0).to($(".carousel__nav"),1,{ease:Power3.easeOut,opacity:0},0),$(".carousel__item").removeClass("active").addClass("move")}},250),s=e.screenX,l=+$(".carousel__inner").css("margin-left").slice(0,-2),c=+$(".carousel__bg").css("left").slice(0,-2)}},mousemove:function(e){if(1==t){r=e.screenX;var o=l+3*(r-s),i=c+3*(r-s);o>a/2-itemHalfWidth&&(o=a/2-itemHalfWidth),o<a/2-itemHalfWidth-2*itemHalfWidth*carouselItems&&(o=a/2-itemHalfWidth-2*itemHalfWidth*carouselItems),i<2*-itemHalfWidth*$(".carousel__bg img").length&&(i=2*-itemHalfWidth*$(".carousel__bg img").length),i>0&&(i=0),$(".carousel__inner").css("margin-left",o),$(".carousel__bg").css("left",i),$(".carousel__item").removeClass("active").addClass("move");(new TimelineMax).to($(".carousel__bg img"),1.25,{ease:Power3.easeOut,opacity:.5,scale:.4},.25)}},mouseenter:function(){(new TimelineMax).to($("#drag"),.5,{ease:Power3.easeOut,opacity:1},.15)},mouseleave:function(){(new TimelineMax).to($("#drag"),.5,{ease:Power3.easeOut,opacity:0},0)}},".carousel__inner"),$(document).on({touchend:function(e){n=e.changedTouches[0].pageX,t=0;var s=[];for(i=0;i<carouselItems;i++){var r=$(".carousel__item").eq(i).offset().left,l=$(window).width()/2-r;l=Math.abs(l),s.push(l)}var c=s.indexOf(Math.min.apply(Math,s));$(".carousel__item").removeClass("move"),$(".carousel__item").eq(c).addClass("active"),o=c;(u=new TimelineMax).to($(".carousel__inner"),1,{ease:Power4.easeOut,marginLeft:a/2-itemHalfWidth-2*itemHalfWidth*c},0).to($(".carousel__nav"),1,{ease:Power3.easeOut,opacity:1},.25).to($(".carousel__bg"),1,{ease:Power4.easeOut,left:2*-itemHalfWidth*c},0);var u;(u=new TimelineMax).to($(".carousel__bg img"),.5,{ease:Power3.easeOut,opacity:0,scale:0},.1),u.to($(".carousel__bg img").eq(c),1.5,{ease:Power3.easeOut,opacity:.5,scale:1},.1)},touchstart:function(e){t=1,setTimeout(function(){if(1==t){(new TimelineMax).to($(".carousel__bg img"),1.25,{ease:Power3.easeOut,opacity:.5,scale:.4},0).to($(".carousel__nav"),1,{ease:Power3.easeOut,opacity:0},0),$(".carousel__item").removeClass("active").addClass("move")}},250),s=e.originalEvent.touches[0].pageX,l=+$(".carousel__inner").css("margin-left").slice(0,-2),c=+$(".carousel__bg").css("left").slice(0,-2)},touchmove:function(e){if(1==t){r=e.originalEvent.touches[0].pageX;var o=l+3*(r-s),i=c+3*(r-s);o>a/2-itemHalfWidth&&(o=a/2-itemHalfWidth),o<a/2-itemHalfWidth-2*itemHalfWidth*carouselItems&&(o=a/2-itemHalfWidth-2*itemHalfWidth*carouselItems),i<2*-itemHalfWidth*$(".carousel__bg img").length&&(i=2*-itemHalfWidth*$(".carousel__bg img").length),i>0&&(i=0),$(".carousel__inner").css("margin-left",o),$(".carousel__bg").css("left",i),$(".carousel__item").removeClass("active").addClass("move");(new TimelineMax).to($(".carousel__bg img"),1.25,{ease:Power3.easeOut,opacity:.5,scale:.4},0)}}},".carousel__inner")}),$(document).ready(function(){$(".carousel__item span").disableSelection()}),$.fn.extend({disableSelection:function(){return this.each(function(){this.onselectstart=function(){return!1},this.unselectable="on",$(this).css("-moz-user-select","none"),$(this).css("-webkit-user-select","none")}),this}}),$(document).ready(function(){window.addEventListener("mouseenter",function(){(new TimelineMax).to($("#cursor"),.5,{ease:Power3.easeOut,opacity:1},0)},!1),window.addEventListener("touchstart",function(){$("#cursor").fadeOut()},!1),$(document).on({mouseenter:function(){(new TimelineMax).to($("#cursor"),.5,{ease:Power3.easeOut,opacity:1},0)},mousemove:function(e){(new TimelineMax).to($("#cursor"),.05,{ease:Power3.easeOut,top:e.clientY-6,left:e.clientX-6},0)},mouseleave:function(){(new TimelineMax).to($("#cursor"),.5,{ease:Power3.easeOut,opacity:0},0)}},"body"),$(document).on({mouseenter:function(){(new TimelineMax).to($("#cursor"),.5,{ease:Power3.easeOut,opacity:0},0)},mouseleave:function(){(new TimelineMax).to($("#cursor"),.5,{ease:Power3.easeOut,opacity:1},0)}},".carousel__nav i"),$(document).on({mouseenter:function(){(new TimelineMax).to($("#cursor"),.5,{ease:Power3.easeOut,opacity:0},0).to($("#drag"),.5,{ease:Power3.easeOut,opacity:0},0)},mouseleave:function(){(new TimelineMax).to($("#cursor"),.5,{ease:Power3.easeOut,opacity:1},0)}},"a, .header__button, .carousel__inner a"),$(document).on({mouseenter:function(){(new TimelineMax).to($("#cursor"),.5,{ease:Power3.easeOut,opacity:0},0).to($(".header__logo svg polygon").eq(0),.75,{ease:Power3.easeOut,rotation:-2,transformOrigin:"100% 70%",scale:1.1},0).to($(".header__logo svg polygon").eq(1),.75,{ease:Power3.easeOut,rotation:-2,transformOrigin:"15% 0%",scale:1.1},0).to($(".header__logo svg polygon").eq(2),.75,{ease:Power3.easeOut,rotation:-2,transformOrigin:"0% 100%",scale:1.1},0)},mouseleave:function(){(new TimelineMax).to($("#cursor"),.5,{ease:Power3.easeOut,opacity:1},0).to($(".header__logo svg polygon").eq(0),.75,{ease:Power3.easeOut,rotation:0,transformOrigin:"100% 70%",scale:1},0).to($(".header__logo svg polygon").eq(1),.75,{ease:Power3.easeOut,rotation:0,transformOrigin:"15% 0%",scale:1},0).to($(".header__logo svg polygon").eq(2),.75,{ease:Power3.easeOut,rotation:0,transformOrigin:"0% 100%",scale:1},0)}},".header__logo")}),$(document).ready(function(){setTimeout(function(){var e=0;$(document).on("click","#menu-toggle",function(){if(0==e){(new TimelineMax).to($(".header__nav"),1.25,{ease:Power4.easeOut,left:"-50vw"},.25).to($(".header__nav"),.625,{ease:Power4.easeOut,transform:"skewX(-7.5deg)"},.25).to($(".header__nav"),.625,{ease:Power4.easeOut,transform:"skewX(0deg)"},.875).staggerFromTo($(".nav__item"),1,{ease:Power3.easeOut,x:-75,opacity:0},{ease:Power3.easeOut,x:0,opacity:1},.1,"label-=1").to($("#menu-toggle .line-top"),.75,{ease:Power3.easeOut,rotation:45,y:5},0).to($("#menu-toggle .line-bottom"),.75,{ease:Power3.easeOut,rotation:-45,y:-5},0),e=1}else{(new TimelineMax).staggerTo($(".nav__item"),1,{ease:Power3.easeOut,x:-75,opacity:0},.1).to($(".header__nav"),1.25,{ease:Power4.easeOut,left:"-150vw"},.1).to($(".header__nav"),.625,{ease:Power4.easeOut,transform:"skewX(7.5deg)"},.1).to($(".header__nav"),.625,{ease:Power4.easeOut,transform:"skewX(0deg)"},.725).to($("#menu-toggle .line-top"),.75,{ease:Power3.easeOut,rotation:0,y:0},0).to($("#menu-toggle .line-bottom"),.75,{ease:Power3.easeOut,rotation:0,y:0},0),e=0}})},5e3)}),$(document).ready(function(){var e=new TimelineMax;e.to($("#loader svg"),1,{ease:Power3.easeOut,opacity:1},.5).from($("#loader svg polygon").eq(0),1,{ease:Power3.easeOut,opacity:0,rotation:3,transformOrigin:"100% 70%",scale:.75},.5).from($("#loader svg polygon").eq(1),1,{ease:Power3.easeOut,opacity:0,rotation:3,transformOrigin:"15% 0%",scale:.75},.5).from($("#loader svg polygon").eq(2),1,{ease:Power3.easeOut,opacity:0,rotation:3,transformOrigin:"0% 100%",scale:.75},.5).staggerFrom($("#loader svg path"),1.5,{ease:Power3.easeOut,opacity:0,y:-75},.075,"label-=.1").to($("#loader"),.75,{ease:Power2.easeIn,y:"100%",transform:"skewY(7.5deg) translateY(50vh)"},2.75).to($("#loader"),.75,{ease:Power4.easeOut,y:"100%",transform:"skewY(0deg) translateY(100vh)"},3.5),e.from($(".header"),1.5,{ease:Power4.easeOut,y:"-100%"},4).from($(".header__logo svg polygon").eq(0),1,{ease:Power3.easeOut,opacity:0,rotation:3,transformOrigin:"100% 70%",scale:.75},4.5).from($(".header__logo svg polygon").eq(1),1,{ease:Power3.easeOut,opacity:0,rotation:3,transformOrigin:"15% 0%",scale:.75},4.5).from($("#menu-toggle .line-top"),1,{ease:Power3.easeOut,opacity:0,x:-15},5).from($("#menu-toggle .line-bottom"),1,{ease:Power3.easeOut,opacity:0,x:15},5).from($(".header__logo svg polygon").eq(2),1,{ease:Power3.easeOut,opacity:0,rotation:3,transformOrigin:"0% 100%",scale:.75},4.5).staggerFrom($(".header__logo svg path"),1.5,{ease:Power3.easeOut,opacity:0,y:-75},.075).staggerFrom($(".nav__item"),1.5,{ease:Power3.easeOut,opacity:0,y:-75},-.075,"label+=4").from($(".social"),1,{ease:Power3.easeOut,opacity:0,y:-75},4.5).staggerFrom($(".social a"),1.5,{ease:Power3.easeOut,opacity:0,x:-75},.075,"label+=4").from($(".carousel__inner"),1.5,{ease:Power4.easeOut,marginLeft:750,opacity:0},5).from($(".carousel__nav"),1,{ease:Power4.easeOut,opacity:0},6.5),e.to($(".nav__info"),1,{ease:Power3.easeOut,opacity:.5},8).to($(".nav__info"),1,{ease:Power3.easeOut,opacity:1},9).to($(".nav__info"),1,{ease:Power3.easeOut,opacity:0},10)});