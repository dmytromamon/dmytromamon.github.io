$(document).ready(function(){function e(){$(window).width()<575.98?(a=$(window).width(),carouselItems=$(".carousel__item").length,carouselWidth=(.8*a+2*+$(".carousel__item").css("margin-left").slice(0,-2))*carouselItems,itemHalfWidth=.4*a+ +$(".carousel__item").css("margin-left").slice(0,-2),$(".carousel__inner").css({width:carouselWidth,marginLeft:a/2-itemHalfWidth})):(a=$(window).width(),carouselItems=$(".carousel__item").length,carouselWidth=(.4*a+2*+$(".carousel__item").css("margin-left").slice(0,-2))*carouselItems,itemHalfWidth=.2*a+ +$(".carousel__item").css("margin-left").slice(0,-2),$(".carousel__inner").css({width:carouselWidth,marginLeft:a/2-itemHalfWidth}))}var a=$(window).width();(new TimelineMax).to($(".nav__info"),.5,{ease:Power3.easeOut,opacity:0},3),e(),window.addEventListener("resize",function(){e()},!1),window.addEventListener("orientationchange",function(){e()},!1),window.addEventListener("mousemove",function(){(new TimelineMax).to($("#cursor"),.15,{ease:Power3.easeOut,opacity:1},0)},!1);var t=0;$(document).on("click",".carousel__left i",function(){if(t>0){$(".carousel__item").eq(t).removeClass("active"),t-=1,$(".carousel__item").eq(t).addClass("active");(e=new TimelineMax).to($(".carousel__bg img"),.5,{ease:Power3.easeOut,opacity:0},0),e.fromTo($(".carousel__bg img").eq(t),.5,{ease:Power3.easeOut,opacity:0},{ease:Power3.easeOut,opacity:1},0);var e;(e=new TimelineMax).to($(".carousel__inner"),.5,{ease:Power3.easeOut,marginLeft:a/2-itemHalfWidth-2*itemHalfWidth*t},0)}}),$(document).on("click",".carousel__right i",function(){if(t<carouselItems-1){$(".carousel__item").eq(t).removeClass("active"),t+=1,$(".carousel__item").eq(t).addClass("active");(e=new TimelineMax).to($(".carousel__bg img"),.5,{ease:Power3.easeOut,opacity:0},0),e.fromTo($(".carousel__bg img").eq(t),.5,{ease:Power3.easeOut,opacity:0},{ease:Power3.easeOut,opacity:1},0);var e;(e=new TimelineMax).to($(".carousel__inner"),.5,{ease:Power3.easeOut,marginLeft:a/2-itemHalfWidth-2*itemHalfWidth*t},0)}}),$(document).on({mouseenter:function(){(new TimelineMax).to($("#cursor"),.15,{ease:Power3.easeOut,opacity:1},0)},mousemove:function(e){(new TimelineMax).to($("#cursor"),.15,{ease:Power3.easeOut,top:e.clientY-6,left:e.clientX-6},0)},mouseleave:function(){(new TimelineMax).to($("#cursor"),.15,{ease:Power3.easeOut,opacity:0},0)}},"body"),$(document).on({mouseenter:function(){(new TimelineMax).to($("#cursor"),.25,{ease:Power3.easeOut,opacity:0},0)},mouseleave:function(){(new TimelineMax).to($("#cursor"),.25,{ease:Power3.easeOut,opacity:1},0)}},".carousel__nav i"),$(document).on({mouseenter:function(){(new TimelineMax).to($("#cursor"),.25,{ease:Power3.easeOut,opacity:0},0).to($("#drag"),.25,{ease:Power3.easeOut,opacity:0},0)},mouseleave:function(){(new TimelineMax).to($("#cursor"),.25,{ease:Power3.easeOut,opacity:1},0)}},"a, .header__button, .carousel__inner a");var o=0,s=0,n=0,r=0,c=0;$(document).on({mouseup:function(e){(l=new TimelineMax).to($("#cursor"),1,{ease:Power3.easeOut,scale:1,transformOrigin:"50% 50%"},0),l.to($(".carousel__nav"),.5,{ease:Power3.easeOut,opacity:1},.2),r=e.screenX,o=0;var s=[];for(i=0;i<carouselItems;i++){var n=$(".carousel__item").eq(i).offset().left,c=$(window).width()/2-n;c=Math.abs(c),s.push(c)}var u=s.indexOf(Math.min.apply(Math,s));$(".carousel__item").eq(u).addClass("active"),t=u;(l=new TimelineMax).to($(".carousel__inner"),.5,{ease:Power3.easeOut,marginLeft:a/2-itemHalfWidth-2*itemHalfWidth*u},0);var l;(l=new TimelineMax).to($(".carousel__bg img"),.5,{ease:Power3.easeOut,opacity:0},0),l.fromTo($(".carousel__bg img").eq(u),.5,{ease:Power3.easeOut,opacity:0},{ease:Power3.easeOut,opacity:1},0)},mousedown:function(e){switch(e.which){case 1:var a=new TimelineMax;a.to($("#cursor"),1,{ease:Power3.easeOut,scale:1.5,transformOrigin:"50% 50%"},0),a.to($(".carousel__nav"),.5,{ease:Power3.easeOut,opacity:0},.2),o=1,s=e.screenX,c=+$(".carousel__inner").css("margin-left").slice(0,-2)}},mousemove:function(e){if(1==o){n=e.screenX;var i=c+3*(n-s);i>a/2-itemHalfWidth&&(i=a/2-itemHalfWidth),i<a/2-itemHalfWidth-2*itemHalfWidth*carouselItems&&(i=a/2-itemHalfWidth-2*itemHalfWidth*carouselItems),$(".carousel__inner").css("margin-left",i),$(".carousel__item").removeClass("active");(new TimelineMax).to($(".carousel__bg img"),.5,{ease:Power3.easeOut,opacity:0},0)}(new TimelineMax).to($("#drag"),.25,{ease:Power3.easeOut,opacity:1},0)},mouseleave:function(){(new TimelineMax).to($("#drag"),.25,{ease:Power3.easeOut,opacity:0},0)}},".carousel__inner"),$(document).on({touchend:function(e){r=e.changedTouches[0].pageX,o=0;var s=[];for(i=0;i<carouselItems;i++){var n=$(".carousel__item").eq(i).offset().left,c=$(window).width()/2-n;c=Math.abs(c),s.push(c)}var u=s.indexOf(Math.min.apply(Math,s));$(".carousel__item").eq(u).addClass("active"),t=u;(l=new TimelineMax).to($(".carousel__inner"),.5,{ease:Power3.easeOut,marginLeft:a/2-itemHalfWidth-2*itemHalfWidth*u},0);var l;(l=new TimelineMax).to($(".carousel__bg img"),.5,{ease:Power3.easeOut,opacity:0},0),l.fromTo($(".carousel__bg img").eq(u),.5,{ease:Power3.easeOut,opacity:0},{ease:Power3.easeOut,opacity:1},0)},touchstart:function(e){o=1,s=e.originalEvent.touches[0].pageX,c=+$(".carousel__inner").css("margin-left").slice(0,-2)},touchmove:function(e){if(1==o){n=e.originalEvent.touches[0].pageX;var i=c+3*(n-s);i>a/2-itemHalfWidth&&(i=a/2-itemHalfWidth),i<a/2-itemHalfWidth-2*itemHalfWidth*carouselItems&&(i=a/2-itemHalfWidth-2*itemHalfWidth*carouselItems),$(".carousel__inner").css("margin-left",i),$(".carousel__item").removeClass("active");(new TimelineMax).to($(".carousel__bg img"),.5,{ease:Power3.easeOut,opacity:0},0)}}},".carousel__inner");var u=0;$(document).on("click","#menu-toggle",function(){if(0==u){(new TimelineMax).to($(".header__nav"),.5,{ease:Power3.easeOut,top:0},0),u=1}else{(new TimelineMax).to($(".header__nav"),.5,{ease:Power3.easeOut,top:"-100vh"},0),u=0}})});